/*! For license information please see 8432.a559dd25.chunk.js.LICENSE.txt */
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8432],{88900:(e,n,t)=>{t.d(n,{A:()=>r});var i,a=t(96540);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},o.apply(null,arguments)}const r=function(e){return a.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,fill:"none",viewBox:"0 0 12 12"},e),i||(i=a.createElement("path",{stroke:"currentColor",strokeLinecap:"round",d:"M2.063 2.063 6 6m3.938 3.938L6 6m0 0 3.938-3.937M6 6 2.063 9.938"})))}},18037:(e,n,t)=>{t.d(n,{d:()=>i});var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PublishPostMainQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishPage_post"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submissionsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"StringValue",value:"",block:!1}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publication"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"publicationViewerStaffRole_viewerEdge"}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"draftResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DraftResultError_draftResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishPage_draft"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UnavailableForLegalReasonsScreen_unavailableForLegalReasons"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnavailableForLegalReasons"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lumenId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"WithheldInCountryScreen_withheldInCountry"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WithheldInCountry"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lumenId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"publicationViewerStaffRole_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PublicationViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerStaffRole"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryStorySettings_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"publicationViewerStaffRole_viewerEdge"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryForm_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryStorySettings_publication"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getStoryPreviewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getStoryPreviewData_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"alt"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getGridPostPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getGridPostPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EditableStoryPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryStoryPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EditableStoryPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSettingsTags_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}},{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSettingsTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tagsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostSettingsTags_tag"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UpdatePostPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaywallPostCheckbox_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpdatePostPaywall_post"}},{kind:"Field",name:{kind:"Name",value:"inResponseToEntityType"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EmailSubscribersCheckbox_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryStorySettings_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSettingsTags_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PaywallPostCheckbox_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EmailSubscribersCheckbox_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryForm_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryStoryPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryStorySettings_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostPublishActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submissionsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"StringValue",value:"",block:!1}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"publication"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PublishActionButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostPublishActions_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ScheduleActionButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"publishSchedule"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishAt"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostPublishActions_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"publishSchedule"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishAt"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublishActionButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ScheduleActionButton_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishForm_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submissionsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"StringValue",value:"",block:!1}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publication"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryForm_publication"}}]}}]}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryForm_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishActions_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getStoryPreviewData_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postId"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getStoryPreviewData_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewImageSelector_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageIds"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EditableStoryPreviewImage_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewImageSelector_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryStoryPreview_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_draft"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EditableStoryPreviewImage_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryForm_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryStoryPreview_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishForm_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryForm_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostResultError_postResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnavailableForLegalReasons"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UnavailableForLegalReasonsScreen_unavailableForLegalReasons"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WithheldInCountry"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WithheldInCountryScreen_withheldInCountry"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishPage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishForm_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DraftResultError_draftResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DraftResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishPage_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishForm_draft"}}]}}]}},8118:(e,n,t)=>{t.d(n,{E:()=>m,m:()=>c});var i=t(96540),a=t(28072),o=t(52290),r=t(48198),l={xs:"20px",sm:"32px",md:"32px",lg:"32px",xl:"64px"},d={xs:"0px",sm:"0px",md:"0px",lg:"0px",xl:"12px"},u={xs:"56px 0 20px",sm:"72px 0 20px",md:"72px 0 20px",lg:"72px 0 20px",xl:"72px 0 20px"},s={xs:"0px",sm:"0px",md:"0px",lg:"0px",xl:"104px"},c=function(e){var n=e.withCloseButton,t=void 0===n||n,s=e.isFullViewportHeight,c=e.redirectUrl,m=e.onClickClose,k=e.children,p=!(!c&&!m);if(t&&!p)throw new Error("RedirectUrl or onClickClose are mandatory to display CloseButton");return i.createElement(a.P,{size:"outset"},i.createElement(o.a,{width:"100%",height:s?"100vh":"100%",display:"flex",justifyContent:"center",padding:s?"0px":u,position:"relative"},t&&p&&i.createElement(r.J,{href:c,onClick:m,absoluteOffsetTop:l,absoluteOffsetRight:d,size:"REGULAR"}),k))},m=function(e){var n=e.children;return i.createElement(o.a,{paddingTop:s},n)}},14490:(e,n,t)=>{t.d(n,{z:()=>De});var i=t(5544),a=t(96540),o=t(52290),r=t(14792),l=t.n(r),d=t(56942),u=t(36557),s=t(60603),c=t(90280),m=t(99731),k=t(10531),p=t(44402),v=t(6054),f={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},g=function(){return a.createElement(o.a,{height:"200px",maxWidth:"440px",width:"100%",backgroundColor:"BASE_NORMAL"})},y=function(){return a.createElement(k.H,{numPlaceholders:1},a.createElement(g,null))},S=function(e){var n,t=e.post,i=e.toggleEditing,r=e.canEdit,l=e.isLoading,d=(0,p.l)();return l?a.createElement(y,null):a.createElement(a.Fragment,null,null!==(n=t.previewImage)&&void 0!==n&&n.id?a.createElement(o.a,{position:"relative",width:"100%"},a.createElement(v.e,{post:t,scales:{xs:"M",sm:"M",md:"M",lg:"M",xl:"M"},miroImgFetchedWidth:440,aspectRatio:c.l8.FiveToEleven}),r&&a.createElement("div",{className:d(f)},a.createElement(m.$n,{buttonStyle:"BRAND",opacity:.8,onClick:i},"Change preview image"))):a.createElement(o.a,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",padding:"80px 65px",backgroundColor:"neutral.secondary"},a.createElement(u.kZ,{scale:"M"},"Include a high-quality image in your story to make it more inviting to readers.")))},N=t(86527),b=t(59393),h=t(12378),F=t(90383),x={position:"relative",height:"calc(100% - 56px)",overflowY:"auto",scrollbarWidth:"thin"},w={display:"grid",gridTemplateColumns:"repeat(auto-fill, ".concat((0,h.c)(124),")"),gap:"8px",width:"100%",padding:"2px 2px 12px 24px"},E=function(e){return function(n){return{display:"block",position:"absolute",height:(0,h.c)(128),width:(0,h.c)(128),top:(0,h.c)(-2),left:(0,h.c)(-2),border:"".concat((0,h.c)(2)," solid ").concat(e?n.colorTokens.border.accent.primary.base:"transparent"),cursor:"pointer",":hover":{borderColor:e?n.colorTokens.border.accent.primary.base:n.colorTokens.border.neutral.secondary.base}}}},P=function(e){var n=e.imageId,t=e.isSelected,i=e.onClick,r=(0,p.l)();return a.createElement(N.N,{onClick:function(){return i(n)}},a.createElement(o.a,{position:"relative"},a.createElement(c.pg,{miroId:n,aspectRatio:c.l8.Square,height:124,width:124,strategy:F.qY.Crop,webp:!0}),a.createElement("div",{className:r(E(t))})))},T=function(e){var n=e.currentPostPreviewId,t=e.draft,r=e.updatePreviewImage,l=e.toggleEditing,d=(0,p.l)(),u=(0,a.useState)(n),s=(0,i.A)(u,2),c=s[0],m=s[1],k=t.imageIds,v=(0,b.Z)({name:"detail",scale:"L",color:"LIGHTER"}),f=function(e){e!==c&&(m(e),r(e))};return a.createElement(o.a,{position:"relative",width:"100%",height:"100%",overflow:"hidden",backgroundColor:"neutral.secondary"},a.createElement(o.a,{padding:"24px 24px 6px"},a.createElement(N.N,{rules:v,linkStyle:"SUBTLE",onClick:l},"Done")),a.createElement("div",{className:d(x)},a.createElement("div",{className:d(w)},k.map((function(e,n){return a.createElement(P,{imageId:e,isSelected:e===c,onClick:f,key:"selectable-image-preview-".concat(n)})})))))},_=t(95420),C=t(18037),D=t(91830),I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateStoryPreviewMetadataMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"StageUpdatePostMetadataInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stageUpdatePostMetadata"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}}]}}]},A=function(){var e=(0,D.zF)(),n=(0,_.n)(I),t=(0,i.A)(n,2),a=t[0];return{updatePostMetadata:function(n){var t=n.postId,i=n.title,o=n.subtitle,r=n.featuredImageId,l=!!r;a({variables:{input:{targetPostId:t,title:i,subtitle:o,featuredImageId:r}},awaitRefetchQueries:l,refetchQueries:l?[C.d]:void 0,update:function(n,a){var r;"MutationSuccess"===(null===(r=a.data)||void 0===r?void 0:r.stageUpdatePostMetadata.__typename)?n.modify({id:n.identify({__typename:"Draft",postId:t}),fields:{title:function(e){return void 0===i||i===e?e:i},subtitle:function(e){return void 0===o||o===e?e:o}}}):e({toastStyle:"RETRYABLE_ERROR"})},onError:function(){return e({toastStyle:"RETRYABLE_ERROR"})}})},loading:t[1].loading}},R=function(e){var n,t=e.post,i=e.draft,r=e.isEditing,l=e.toggleEditing,d=A(),u=d.updatePostMetadata,s=d.loading,c=null===(n=t.previewImage)||void 0===n?void 0:n.id,m=!(null==i||!i.imageIds)&&i.imageIds.length>0;return a.createElement(o.a,{maxHeight:r?void 0:"200px",height:r?"336px":"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},m&&c&&r?a.createElement(T,{currentPostPreviewId:c,draft:i,updatePreviewImage:function(e){e!==c&&u({postId:t.id,featuredImageId:e})},toggleEditing:l}):a.createElement(S,{post:t,canEdit:m,toggleEditing:l,isLoading:!!s}))},O=t(82284),L=t(64467),M=t(10467),V=t(46844),j=/\bTK\b/,G=function(e){var n=e.isFocused,t=e.status;return function(e){var i="1px solid ".concat(function(e){var n=e.isFocused,t=e.theme;return"ERROR"===e.status?t.colorTokens.border.error.primary.base:n?t.colorTokens.border.neutral.secondary.base:t.colorTokens.border.neutral.tertiary.base}({theme:e,isFocused:n,status:t})," !important");return{backgroundColor:e.colorTokens.background.neutral.primary.base,borderStyle:"solid",borderWidth:"1px",border:"transparent",borderBottom:i,borderRadius:"0px",padding:"8px 0px",opacity:1}}},B=function(e){var n=e.initialValue,t=e.ariaLabel,r=e.textRules,l=e.scale,d=e.placeholder,u=e.onBlur,s=e.isEditable,c=e.isLoading,m=e.characterCountLimit,k=e.errorMessage,p=(0,a.useState)(n),v=(0,i.A)(p,2),f=v[0],g=v[1];return a.createElement(o.a,{position:"relative"},a.createElement(U,{textFieldValue:f}),a.createElement(V.A,{ariaLabel:t,value:f,isMultiline:!0,scale:l,textRules:r,placeholder:d,onChange:function(e){var n=e.target.value;n.length<=m&&g(n)},onBlur:function(){u(f)},status:k?"ERROR":void 0,description:k,characterCountLimit:s?m:void 0,customFieldsRulesFn:G,isEditable:s&&!c,inheritCustomStyleSheet:!0,bottomContentMarginTop:"4px",keepBottomContentSpace:!0}))},U=function(e){var n,t=e.textFieldValue,i=(0,p.l)(),o=(0,b.Z)({name:"heading",scale:"XS",color:"NORMAL",fontWeight:"NORMAL"}),r=j.test(t);return a.createElement("span",{className:i([o,(n=r,{display:n?"inline":"none",color:"#e7af0e",position:"absolute",left:{xs:"-22px",sm:"-32px",md:"-32px",lg:"-32px",xl:"-32px"},top:"10px"})])},"TK")};function z(){var e=X(),n=e.m(z),t=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function i(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===t||"GeneratorFunction"===(n.displayName||n.name))}var a={throw:1,return:2,break:3,continue:3};function o(e){var n,t;return function(i){n||(n={stop:function(){return t(i.a,2)},catch:function(){return i.v},abrupt:function(e,n){return t(i.a,a[e],n)},delegateYield:function(e,a,o){return n.resultName=a,t(i.d,W(e),o)},finish:function(e){return t(i.f,e)}},t=function(e,t,a){i.p=n.prev,i.n=n.next;try{return e(t,a)}finally{n.next=i.n}}),n.resultName&&(n[n.resultName]=i.v,n.resultName=void 0),n.sent=i.v,n.next=i.n;try{return e.call(this,n)}finally{i.p=n.prev,i.n=n.next}}}return(z=function(){return{wrap:function(n,t,i,a){return e.w(o(n),t,i,a&&a.reverse())},isGeneratorFunction:i,mark:e.m,awrap:function(e,n){return new Q(e,n)},AsyncIterator:H,async:function(e,n,t,a,r){return(i(n)?K:q)(o(e),n,t,a,r)},keys:Z,values:W}})()}function W(e){if(null!=e){var n=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],t=0;if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}throw new TypeError((0,O.A)(e)+" is not iterable")}function Z(e){var n=Object(e),t=[];for(var i in n)t.unshift(i);return function e(){for(;t.length;)if((i=t.pop())in n)return e.value=i,e.done=!1,e;return e.done=!0,e}}function q(e,n,t,i,a){var o=K(e,n,t,i,a);return o.next().then((function(e){return e.done?e.value:o.next()}))}function K(e,n,t,i,a){return new H(X().w(e,n,t,i),a||Promise)}function H(e,n){function t(i,a,o,r){try{var l=e[i](a),d=l.value;return d instanceof Q?n.resolve(d.v).then((function(e){t("next",e,o,r)}),(function(e){t("throw",e,o,r)})):n.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return t("throw",e,o,r)}))}catch(e){r(e)}}var i;this.next||(Y(H.prototype),Y(H.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Y(this,"_invoke",(function(e,a,o){function r(){return new n((function(n,i){t(e,o,n,i)}))}return i=i?i.then(r,r):r()}),!0)}function X(){var e,n,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,i,a,o){var d=i&&i.prototype instanceof l?i:l,u=Object.create(d.prototype);return Y(u,"_invoke",function(t,i,a){var o,l,d,u=0,s=a||[],c=!1,m={p:0,n:0,v:e,a:k,f:k.bind(e,4),d:function(n,t){return o=n,l=0,d=e,m.n=t,r}};function k(t,i){for(l=t,d=i,n=0;!c&&u&&!a&&n<s.length;n++){var a,o=s[n],k=m.p,p=o[2];t>3?(a=p===i)&&(d=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=k&&((a=t<2&&k<o[1])?(l=0,m.v=i,m.n=o[1]):k<p&&(a=t<3||o[0]>i||i>p)&&(o[4]=t,o[5]=i,m.n=p,l=0))}if(a||t>1)return r;throw c=!0,i}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(c&&1===s&&k(s,p),l=s,d=p;(n=l<2?e:d)||!c;){o||(l?l<3?(l>1&&(m.n=-1),k(l,d)):m.n=d:m.v=d);try{if(u=2,o){if(l||(a="next"),n=o[a]){if(!(n=n.call(o,d)))throw TypeError("iterator result is not an object");if(!n.done)return n;d=n.value,l<2&&(l=0)}else 1===l&&(n=o.return)&&n.call(o),l<2&&(d=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((n=(c=m.n<0)?d:t.call(i,m))!==r)break}catch(n){o=e,l=1,d=n}finally{u=1}}return{value:n,done:c}}}(t,a,o),!0),u}var r={};function l(){}function d(){}function u(){}n=Object.getPrototypeOf;var s=[][i]?n(n([][i]())):(Y(n={},i,(function(){return this})),n),c=u.prototype=l.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Y(e,a,"GeneratorFunction")),e.prototype=Object.create(c),e}return d.prototype=u,Y(c,"constructor",u),Y(u,"constructor",d),d.displayName="GeneratorFunction",Y(u,a,"GeneratorFunction"),Y(c),Y(c,a,"Generator"),Y(c,i,(function(){return this})),Y(c,"toString",(function(){return"[object Generator]"})),(X=function(){return{w:o,m}})()}function Y(e,n,t,i){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Y=function(e,n,t,i){function o(n,t){Y(e,n,(function(e){return this._invoke(n,t,e)}))}n?a?a(e,n,{value:t,enumerable:!i,configurable:!i,writable:!i}):e[n]=t:(o("next",0),o("throw",1),o("return",2))},Y(e,n,t,i)}function Q(e,n){this.v=e,this.k=n}var $=function(e){var n=e.post,t=e.draft,o=e.setDeliveryDisabled,r=n.isPublished,l=function(e){var n,t,i,a=e.post,o=e.draft,r=a.isPublished,l=a.title,d=a.extendedPreviewContent,u=null!==(n=null==o?void 0:o.title)&&void 0!==n?n:null,s=null!==(t=null==o?void 0:o.subtitle)&&void 0!==t?t:null,c=null!==(i=null==d?void 0:d.subtitle)&&void 0!==i?i:null;return{title:r||!u?l:u,subtitle:r||!s?c:s}}({post:n,draft:t}),d=l.title,u=l.subtitle,s=A(),c=s.updatePostMetadata,m=s.loading,k=(0,a.useState)(!1),p=(0,i.A)(k,2),v=p[0],f=p[1],g=(0,b.Z)({name:"heading",scale:"S",fontWeight:"NORMAL",color:"NORMAL"}),y=function(){var e=(0,M.A)(z().mark((function e(t,i){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),e.next=4,c((0,L.A)({postId:n.id},i,t));case 4:return e.prev=4,o(!1),e.finish(4);case 7:case"end":return e.stop()}}),e,null,[[0,,4,7]])})));return function(n,t){return e.apply(this,arguments)}}(),S=function(){var e=(0,M.A)(z().mark((function e(n){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=8;break}if(f(!1),o(!1),n===d){e.next=6;break}return e.next=6,y(n,"title");case 6:e.next=10;break;case 8:f(!0),o(!0);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=(0,M.A)(z().mark((function e(n){return z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n===u){e.next=3;break}return e.next=3,y(n,"subtitle");case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),h=!r;return a.createElement(a.Fragment,null,a.createElement(B,{initialValue:d||"",ariaLabel:"Story preview title",textRules:g,placeholder:"Write a preview title",onBlur:S,isEditable:h,isLoading:!!m,characterCountLimit:100,errorMessage:v?"Please enter a title":void 0}),a.createElement(B,{initialValue:u||"",ariaLabel:"Story preview subtitle",scale:"L",placeholder:"Write a preview subtitle...",onBlur:N,isEditable:h,isLoading:!!m,characterCountLimit:140}))},J=function(e){var n=e.post,t=e.draft,r=e.setDeliveryDisabled,c=(0,s.e)(!1),m=(0,i.A)(c,4),k=m[0],p=m[3],v=n.isNewsletter,f=v?"email":"story";return a.createElement(o.a,{display:"flex",flexDirection:"column",gap:v?"20px":"32px"},a.createElement(o.a,{display:"flex",flexDirection:"column",gap:"20px"},a.createElement(d.DZ,{scale:"XS"},l()(f)," preview"),!v&&a.createElement(R,{post:n,draft:t,isEditing:k,toggleEditing:p})),a.createElement(o.a,null,!k&&a.createElement($,{post:n,draft:t,setDeliveryDisabled:r}),a.createElement(o.a,{marginTop:k?"4px":"10px"},a.createElement(u.kZ,{scale:"M"},"Note: Changes here will affect how your ",f," appears in public places like Medium’s homepage and in subscribers’ inboxes — not the contents of the ",f," ","itself."))))},ee=t(38339),ne=t(27721),te=t(89536),ie=t(46879),ae=t(60245),oe=t(53424),re=t(34317);function le(){var e=ke(),n=e.m(le),t=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function i(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===t||"GeneratorFunction"===(n.displayName||n.name))}var a={throw:1,return:2,break:3,continue:3};function o(e){var n,t;return function(i){n||(n={stop:function(){return t(i.a,2)},catch:function(){return i.v},abrupt:function(e,n){return t(i.a,a[e],n)},delegateYield:function(e,a,o){return n.resultName=a,t(i.d,de(e),o)},finish:function(e){return t(i.f,e)}},t=function(e,t,a){i.p=n.prev,i.n=n.next;try{return e(t,a)}finally{n.next=i.n}}),n.resultName&&(n[n.resultName]=i.v,n.resultName=void 0),n.sent=i.v,n.next=i.n;try{return e.call(this,n)}finally{i.p=n.prev,i.n=n.next}}}return(le=function(){return{wrap:function(n,t,i,a){return e.w(o(n),t,i,a&&a.reverse())},isGeneratorFunction:i,mark:e.m,awrap:function(e,n){return new ve(e,n)},AsyncIterator:me,async:function(e,n,t,a,r){return(i(n)?ce:se)(o(e),n,t,a,r)},keys:ue,values:de}})()}function de(e){if(null!=e){var n=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],t=0;if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}throw new TypeError((0,O.A)(e)+" is not iterable")}function ue(e){var n=Object(e),t=[];for(var i in n)t.unshift(i);return function e(){for(;t.length;)if((i=t.pop())in n)return e.value=i,e.done=!1,e;return e.done=!0,e}}function se(e,n,t,i,a){var o=ce(e,n,t,i,a);return o.next().then((function(e){return e.done?e.value:o.next()}))}function ce(e,n,t,i,a){return new me(ke().w(e,n,t,i),a||Promise)}function me(e,n){function t(i,a,o,r){try{var l=e[i](a),d=l.value;return d instanceof ve?n.resolve(d.v).then((function(e){t("next",e,o,r)}),(function(e){t("throw",e,o,r)})):n.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return t("throw",e,o,r)}))}catch(e){r(e)}}var i;this.next||(pe(me.prototype),pe(me.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),pe(this,"_invoke",(function(e,a,o){function r(){return new n((function(n,i){t(e,o,n,i)}))}return i=i?i.then(r,r):r()}),!0)}function ke(){var e,n,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,i,a,o){var d=i&&i.prototype instanceof l?i:l,u=Object.create(d.prototype);return pe(u,"_invoke",function(t,i,a){var o,l,d,u=0,s=a||[],c=!1,m={p:0,n:0,v:e,a:k,f:k.bind(e,4),d:function(n,t){return o=n,l=0,d=e,m.n=t,r}};function k(t,i){for(l=t,d=i,n=0;!c&&u&&!a&&n<s.length;n++){var a,o=s[n],k=m.p,p=o[2];t>3?(a=p===i)&&(d=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=k&&((a=t<2&&k<o[1])?(l=0,m.v=i,m.n=o[1]):k<p&&(a=t<3||o[0]>i||i>p)&&(o[4]=t,o[5]=i,m.n=p,l=0))}if(a||t>1)return r;throw c=!0,i}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(c&&1===s&&k(s,p),l=s,d=p;(n=l<2?e:d)||!c;){o||(l?l<3?(l>1&&(m.n=-1),k(l,d)):m.n=d:m.v=d);try{if(u=2,o){if(l||(a="next"),n=o[a]){if(!(n=n.call(o,d)))throw TypeError("iterator result is not an object");if(!n.done)return n;d=n.value,l<2&&(l=0)}else 1===l&&(n=o.return)&&n.call(o),l<2&&(d=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((n=(c=m.n<0)?d:t.call(i,m))!==r)break}catch(n){o=e,l=1,d=n}finally{u=1}}return{value:n,done:c}}}(t,a,o),!0),u}var r={};function l(){}function d(){}function u(){}n=Object.getPrototypeOf;var s=[][i]?n(n([][i]())):(pe(n={},i,(function(){return this})),n),c=u.prototype=l.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,pe(e,a,"GeneratorFunction")),e.prototype=Object.create(c),e}return d.prototype=u,pe(c,"constructor",u),pe(u,"constructor",d),d.displayName="GeneratorFunction",pe(u,a,"GeneratorFunction"),pe(c),pe(c,a,"Generator"),pe(c,i,(function(){return this})),pe(c,"toString",(function(){return"[object Generator]"})),(ke=function(){return{w:o,m}})()}function pe(e,n,t,i){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}pe=function(e,n,t,i){function o(n,t){pe(e,n,(function(e){return this._invoke(n,t,e)}))}n?a?a(e,n,{value:t,enumerable:!i,configurable:!i,writable:!i}):e[n]=t:(o("next",0),o("throw",1),o("return",2))},pe(e,n,t,i)}function ve(e,n){this.v=e,this.k=n}var fe=function(e){var n,t,i=e.post,r=e.setIsRunningAsyncEvent,l=(0,re.$L)(),d=(0,ae.e)(null==i?void 0:i.id),s=d.updatePostEmailNotifications,c=d.loading,m=function(){var e=(0,M.A)(le().mark((function e(){var n,t,a,o;return le().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=null!==(n=(!i.isPublishToEmail).toString())&&void 0!==n?n:"false",r(!0),e.next=5,s({variables:{postId:i.id,notifyEmailSubscribers:!i.isPublishToEmail}});case 5:l.event("post.deliveryForm.notifySubscribersChanged",{postId:i.id,settingValue:o,previousValue:null!==(t=null===(a=i.isPublishToEmail)||void 0===a?void 0:a.toString())&&void 0!==t?t:"false"});case 6:return e.prev=6,r(!1),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[0,,6,9]])})));return function(){return e.apply(this,arguments)}}(),k=(null==i||null===(n=i.creator)||void 0===n||null===(t=n.newsletterV3)||void 0===t?void 0:t.subscribersCount)||0,p=k>=20?"".concat(k," "):"";return a.createElement(oe.S,{checked:!!i.isPublishToEmail,onChange:m,textScale:"S",disabled:c,alignItems:"flex-start",hasCustomLabelContainer:!0,checkboxStyle:"SUBTLE"},a.createElement(o.a,{marginTop:"-6px"},a.createElement(u.kZ,{scale:"M",color:"DARKER"},"Notify your ",p,"subscribers"),a.createElement(o.a,{paddingTop:"4px"},a.createElement(u.kZ,{scale:"M",color:"LIGHTER"},"Subscribers are Medium readers who follow you, and have opted-in to email notifications about your stories."))))},ge=t(80876),ye=t(47016);function Se(){var e=we(),n=e.m(Se),t=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function i(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===t||"GeneratorFunction"===(n.displayName||n.name))}var a={throw:1,return:2,break:3,continue:3};function o(e){var n,t;return function(i){n||(n={stop:function(){return t(i.a,2)},catch:function(){return i.v},abrupt:function(e,n){return t(i.a,a[e],n)},delegateYield:function(e,a,o){return n.resultName=a,t(i.d,Ne(e),o)},finish:function(e){return t(i.f,e)}},t=function(e,t,a){i.p=n.prev,i.n=n.next;try{return e(t,a)}finally{n.next=i.n}}),n.resultName&&(n[n.resultName]=i.v,n.resultName=void 0),n.sent=i.v,n.next=i.n;try{return e.call(this,n)}finally{i.p=n.prev,i.n=n.next}}}return(Se=function(){return{wrap:function(n,t,i,a){return e.w(o(n),t,i,a&&a.reverse())},isGeneratorFunction:i,mark:e.m,awrap:function(e,n){return new Pe(e,n)},AsyncIterator:xe,async:function(e,n,t,a,r){return(i(n)?Fe:he)(o(e),n,t,a,r)},keys:be,values:Ne}})()}function Ne(e){if(null!=e){var n=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],t=0;if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}throw new TypeError((0,O.A)(e)+" is not iterable")}function be(e){var n=Object(e),t=[];for(var i in n)t.unshift(i);return function e(){for(;t.length;)if((i=t.pop())in n)return e.value=i,e.done=!1,e;return e.done=!0,e}}function he(e,n,t,i,a){var o=Fe(e,n,t,i,a);return o.next().then((function(e){return e.done?e.value:o.next()}))}function Fe(e,n,t,i,a){return new xe(we().w(e,n,t,i),a||Promise)}function xe(e,n){function t(i,a,o,r){try{var l=e[i](a),d=l.value;return d instanceof Pe?n.resolve(d.v).then((function(e){t("next",e,o,r)}),(function(e){t("throw",e,o,r)})):n.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return t("throw",e,o,r)}))}catch(e){r(e)}}var i;this.next||(Ee(xe.prototype),Ee(xe.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Ee(this,"_invoke",(function(e,a,o){function r(){return new n((function(n,i){t(e,o,n,i)}))}return i=i?i.then(r,r):r()}),!0)}function we(){var e,n,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,i,a,o){var d=i&&i.prototype instanceof l?i:l,u=Object.create(d.prototype);return Ee(u,"_invoke",function(t,i,a){var o,l,d,u=0,s=a||[],c=!1,m={p:0,n:0,v:e,a:k,f:k.bind(e,4),d:function(n,t){return o=n,l=0,d=e,m.n=t,r}};function k(t,i){for(l=t,d=i,n=0;!c&&u&&!a&&n<s.length;n++){var a,o=s[n],k=m.p,p=o[2];t>3?(a=p===i)&&(d=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=k&&((a=t<2&&k<o[1])?(l=0,m.v=i,m.n=o[1]):k<p&&(a=t<3||o[0]>i||i>p)&&(o[4]=t,o[5]=i,m.n=p,l=0))}if(a||t>1)return r;throw c=!0,i}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(c&&1===s&&k(s,p),l=s,d=p;(n=l<2?e:d)||!c;){o||(l?l<3?(l>1&&(m.n=-1),k(l,d)):m.n=d:m.v=d);try{if(u=2,o){if(l||(a="next"),n=o[a]){if(!(n=n.call(o,d)))throw TypeError("iterator result is not an object");if(!n.done)return n;d=n.value,l<2&&(l=0)}else 1===l&&(n=o.return)&&n.call(o),l<2&&(d=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((n=(c=m.n<0)?d:t.call(i,m))!==r)break}catch(n){o=e,l=1,d=n}finally{u=1}}return{value:n,done:c}}}(t,a,o),!0),u}var r={};function l(){}function d(){}function u(){}n=Object.getPrototypeOf;var s=[][i]?n(n([][i]())):(Ee(n={},i,(function(){return this})),n),c=u.prototype=l.prototype=Object.create(s);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,Ee(e,a,"GeneratorFunction")),e.prototype=Object.create(c),e}return d.prototype=u,Ee(c,"constructor",u),Ee(u,"constructor",d),d.displayName="GeneratorFunction",Ee(u,a,"GeneratorFunction"),Ee(c),Ee(c,a,"Generator"),Ee(c,i,(function(){return this})),Ee(c,"toString",(function(){return"[object Generator]"})),(we=function(){return{w:o,m}})()}function Ee(e,n,t,i){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Ee=function(e,n,t,i){function o(n,t){Ee(e,n,(function(e){return this._invoke(n,t,e)}))}n?a?a(e,n,{value:t,enumerable:!i,configurable:!i,writable:!i}):e[n]=t:(o("next",0),o("throw",1),o("return",2))},Ee(e,n,t,i)}function Pe(e,n){this.v=e,this.k=n}var Te=function(e){var n=e.post,t=e.setIsRunningAsyncEvent,i=(0,re.$L)(),r=(0,ye.G)(),l=r.canUsePaywall,d=r.loading,s=(0,ge.i)({postId:n.id,isPaywalled:!!n.isLocked,showToast:!1}),c=s.addPaywall,m=s.removePaywall,k=s.updatingPaywall;if(d||!l||n.inResponseToEntityType)return null;var p=function(){var e=(0,M.A)(Se().mark((function e(){var a,o;return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(!0),!n.isLocked){e.next=7;break}return e.next=5,m();case 5:e.next=9;break;case 7:return e.next=9,c();case 9:i.event("post.deliveryForm.paywallChanged",{postId:n.id,settingValue:(!n.isLocked).toString(),previousValue:null!==(a=null===(o=n.isLocked)||void 0===o?void 0:o.toString())&&void 0!==a?a:"false"});case 10:return e.prev=10,t(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,,10,13]])})));return function(){return e.apply(this,arguments)}}();return a.createElement(oe.S,{checked:!!n.isLocked,onChange:p,textScale:"S",disabled:k,alignItems:"flex-start",hasCustomLabelContainer:!0,checkboxStyle:"SUBTLE"},a.createElement(o.a,{marginTop:"-6px"},a.createElement(u.kZ,{scale:"M",color:"DARKER"},"Paywall this story"),a.createElement(o.a,{paddingTop:"4px"},a.createElement(u.kZ,{scale:"M",color:"LIGHTER"},"Your story will earn under the Partner Program when read by Medium members."))))},_e=function(e){var n,t=e.post,i=e.publication,r=e.settingsColumnLabel,l=e.setDeliveryDisabled,s=(0,p.l)(),m=(0,ne.R)().value,k=t.creator,v=t.isNewsletter,f=t.isPublished,g=!(null==m||!m.id)&&m.id===(null==k?void 0:k.id),y=g&&!v,S=g&&!(v||f),b=!g&&!v,h=!!i&&((0,te.KT)(i.viewerEdge)||"Submitting"===r),F=h?i.name:null==k?void 0:k.name,x=null==i||null===(n=i.avatar)||void 0===n?void 0:n.id,w=h&&!!x;return a.createElement(o.a,{display:"flex",flexDirection:"column",gap:"20px"},a.createElement(o.a,{display:"inline-flex",flexDirection:"row",gap:w?"8px":"4px",alignItems:"center"},a.createElement(d.DZ,{scale:"XS"},a.createElement("span",{className:s({whiteSpace:"nowrap"})},r," to")),w&&a.createElement(c.pg,{miroId:x,width:16,height:16,rules:{borderRadius:"2px"}}),a.createElement(d.DZ,{scale:"XS",clamp:1},F)),a.createElement(o.a,{display:"flex",flexDirection:"column",gap:"32px"},a.createElement(ee.l,{post:t,setIsRunningAsyncEvent:l}),y&&a.createElement(Te,{post:t,setIsRunningAsyncEvent:l}),S&&a.createElement(fe,{post:t,setIsRunningAsyncEvent:l}),b&&a.createElement(a.Fragment,null,a.createElement(u.kZ,{scale:"M"},"The author manages the earnings and distribution settings for this story."," ",a.createElement(N.N,{href:(0,ie.BdX)(),inline:!0,linkStyle:"OBVIOUS",target:"_blank"},"Learn more")))))},Ce=function(e){var n=e.children;return a.createElement(o.a,{width:"100%",maxWidth:"440px"},n)},De=function(e){var n=e.post,t=e.draft,r=e.publication,l=e.settingsColumnLabel,d=e.children,u=(0,a.useState)(0),s=(0,i.A)(u,2),c=s[0],m=s[1],k=c>0,p=function(e){m(e?function(e){return e+1}:function(e){return Math.max(e-1,0)})};return a.createElement(o.a,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"column",lg:"column",xl:"row"},gap:{xs:"56px",sm:"56px",md:"64px",lg:"64px",xl:"80px"},alignItems:{xs:"center",sm:"center",md:"center",lg:"center",xl:"flex-start"}},a.createElement(Ce,null,a.createElement(J,{post:n,draft:t,setDeliveryDisabled:p})),a.createElement(Ce,null,a.createElement(_e,{post:n,publication:r,setDeliveryDisabled:p,settingsColumnLabel:l}),d(k)))}},60245:(e,n,t)=>{t.d(n,{e:()=>u});var i=t(5544),a=t(95420),o=t(2550),r=t(91586),l=t(91830),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePostEmailNotification"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"notifyEmailSubscribers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setPostDistributionSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"notifyEmailSubscribers"},value:{kind:"Variable",name:{kind:"Name",value:"notifyEmailSubscribers"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}}]}}]}}]},u=function(e){var n=(0,o.A)().viewerId,t=(0,r.U)(),u=(0,l.zF)(),s=(0,a.n)(d,{update:function(e,t){var i,a;"Post"===(null===(i=t.data)||void 0===i||null===(a=i.setPostDistributionSettings)||void 0===a?void 0:a.__typename)&&n&&e.modify({id:e.identify({__typename:"Post",id:t.data.setPostDistributionSettings.id}),fields:{isPublishToEmail:function(){var e,n;return!(null===(e=t.data)||void 0===e||null===(n=e.setPostDistributionSettings)||void 0===n||!n.isPublishToEmail)}}})},onError:function(i){t.error({message:"UpdatePostEmailNotification: GraphQL query failed",viewerId:n,postId:e,error:i}),u({message:"There was an error updating email settings for this story. Please try again later.",toastStyle:"ERROR"})}}),c=(0,i.A)(s,2),m=c[0];return{loading:c[1].loading,updatePostEmailNotifications:m}}},37614:(e,n,t)=>{t.d(n,{X:()=>u,f:()=>s});var i=t(96540),a=t(26365),o=t(77999),r=t(9942),l=t(60219),d=t(51260),u=function(e){return"Draft"!==(null==e?void 0:e.__typename)},s=function(e){var n=e.draftResult,t=e.postId,u=(0,d.om)();if(!n)return i.createElement(a.z,{error:new l.X});switch(n.__typename){case"Unauthorized":return i.createElement(r.r,{to:u("ShowPost",{postId:t}),replace:!0});case"NotFound":return i.createElement(o.u,null)}}},67173:(e,n,t)=>{t.d(n,{a:()=>f,M:()=>v});var i=t(96540),a=t(41005),o=t(26365),r=t(77999),l=t(50584);function d(e){var n=e.errorData;return i.createElement(a.y,{code:451,title:"451 Not available — Medium",lumenId:n.lumenId},"This story is subject to a DMCA copyright or other legal or government claim.")}function u(e){var n=e.errorData;return i.createElement(a.y,{code:451,title:"451 Not available in your country — Medium",lumenId:n.lumenId},"This page is not available in your country.")}var s=t(8697),c=t(86527),m=t(60219),k=t(69547),p=t(46879),v=function(e){return!(0,k.t)(e)},f=function(e){var n=e.postResult;if(!n)return i.createElement(o.z,{error:new m.W});switch(n.__typename){case"Unauthorized":return i.createElement(s.W,{opt_isDraft:!0});case"NotFound":return i.createElement(r.u,null);case"AccountDeleted":return i.createElement(a.y,{code:410,title:"410 Deleted by author — Medium"},"User deactivated or deleted their account.");case"AccountSuspended":return i.createElement(l.s,{suspension:"account"});case"PostSuspended":return i.createElement(l.s,{suspension:"post"});case"Blocked":return i.createElement(a.y,{code:403,title:"403 Blocked — Medium"},"This user has blocked you from following them or viewing their stories.");case"Blocking":return i.createElement(a.y,{code:403,title:"403 Blocking — Medium"},"This story is not available because you have blocked the author."," ",i.createElement(c.N,{href:p.dZ2,inline:!0,linkStyle:"OBVIOUS",target:"_blank"},"Learn more"));case"RemovedByUser":return i.createElement(a.y,{code:410,title:"410 Deleted by author — Medium"},"The author deleted this Medium story.");case"UnavailableForLegalReasons":return i.createElement(d,{errorData:n});case"WithheldInCountry":return i.createElement(u,{errorData:n});default:return i.createElement(o.z,{error:new Error("Unsupported postResult: ".concat(n.__typename))})}}},2945:(e,n,t)=>{t.d(n,{c:()=>r,q:()=>o});var i=t(96540),a=t(34317),o=i.createContext({postId:null,viewerIsCollectionAdmin:!1,isInCollection:!1,isPublished:!1,viewerIsAuthor:!1,viewerIsEditor:!1});function r(e){var n,t,r=e.children,l=e.post,d=e.viewer,u=(0,a.$L)(),s=!!(l.creator&&d&&d.id)&&l.creator.id===d.id,c=!!(null!=l&&null!==(n=l.collection)&&void 0!==n&&n.viewerEdge.isEditor||null!=l&&null!==(t=l.pendingCollection)&&void 0!==t&&t.viewerEdge.isEditor),m=l.id,k=l.isPublished,p=!!l.collection||!!l.pendingCollection,v=d&&l.collection&&l.collection.creator&&l.collection.creator.id===d.id,f=d&&l.pendingCollection&&l.pendingCollection.creator&&l.pendingCollection.creator.id===d.id,g=!1;(c||v||f)&&(g=!0);var y={postId:m,viewerIsCollectionAdmin:g,isInCollection:p,isPublished:!!k,viewerIsAuthor:s,viewerIsEditor:c};return i.useEffect((function(){u.event("postSettings.viewed",y)}),[]),i.createElement(o.Provider,{value:y},r)}},38339:(e,n,t)=>{t.d(n,{l:()=>D});var i=t(5544),a=t(95420),o=t(96540),r=t(2945),l=t(60436),d=t(70111),u=t(14782),s=t(24960),c=t(36557),m=t(44402),k=t(27715),p=function(e){return function(n){return{border:"none",margin:0,textAlign:"left",webkitAppearance:"none",background:null,color:e?n.colorTokens.foreground.neutral.primary.base:n.colorTokens.foreground.neutral.secondary.base,cursor:"pointer",padding:"".concat(2*n.grid.yStep,"px ").concat(5*n.grid.xStep,"px"),width:"100%",":focus":{outline:"none"}}}},v=function(e){return function(n){return{color:e?n.colorTokens.foreground.neutral.primary.base:n.colorTokens.foreground.neutral.secondary.base}}};function f(e){var n=e.ariaId,t=e.onSelect,i=e.selectedTagIndex,a=e.setSelectedTagIndex,r=e.children,l=e.tags,d=e.noPortal,f=void 0!==d&&d,g=(0,m.l)();return(0,o.useEffect)((function(){var e=function(e){var n,t;"ArrowDown"===e.key&&(n="number"!=typeof i||i===l.length-1?0:i+1,a(n)),"ArrowUp"===e.key&&(t="number"!=typeof i||0===i?l.length-1:i-1,a(t))};return window.addEventListener("keyup",e),function(){window.removeEventListener("keyup",e)}}),[i]),o.createElement(s.A,{ariaId:n,isVisible:!!l.length,noArrow:!0,noPortal:f,placement:"bottom-start",referenceWidth:"100%",popoverRenderFn:function(){return o.createElement(u.Ni,null,l.map((function(e,n){var r=e.displayTitle,d=e.followerCount,u=n===i;return o.createElement("button",{className:g(p(u)),key:n,onClick:function(){return t(l[n])},onMouseEnter:function(){return a(n)},onMouseLeave:function(){return a(null)}},o.createElement(c.kZ,{scale:"M"},o.createElement("span",{className:g(v(u))},r," ",d&&d>0?"(".concat((0,k.Ct)(d),")"):"")))})))}},r)}var g=t(52290),y=t(59393),S=t(88900),N={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TagsMultiSelectFieldQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"prefix"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includeNormalized"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tagsTypeahead"},arguments:[{kind:"Argument",name:{kind:"Name",value:"prefix"},value:{kind:"Variable",name:{kind:"Name",value:"prefix"}}},{kind:"Argument",name:{kind:"Name",value:"includeNormalized"},value:{kind:"Variable",name:{kind:"Name",value:"includeNormalized"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"TagsMultiSelectField_tag"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TagsMultiSelectField_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}},{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}}]},b=function(e){return{padding:"3.5px 8px 4.5px 4px",outline:"0",flexGrow:"1",width:"100px",backgroundColor:"transparent",border:"none","::placeholder":{color:e.colorTokens.foreground.neutral.secondary.base,opacity:.5}}},h=function(e){return{padding:"3.5px 8px 4.5px 10px",borderRadius:"40px",background:e.colorTokens.background.neutral.tertiary.base,border:"1px solid ".concat(e.colorTokens.border.neutral.tertiary.base),display:"flex",alignItems:"center",maxWidth:"200px",height:"28px"}},F=function(e){return{color:e.colorTokens.foreground.neutral.secondary.base,cursor:"pointer",display:"flex",padding:"0px 0px 0px 8px",alignItems:"center",border:"none","&:hover":{background:"transparent",color:e.colorTokens.foreground.neutral.secondary.hover}}},x=function(e){return{color:e.colorTokens.foreground.neutral.primary.base,paddingTop:"2px",width:"12px",height:"12px"}},w=function(e){return{padding:"12px",cursor:"text",borderRadius:"4px",backgroundColor:e.colorTokens.background.neutral.secondary.base,border:"1px solid ".concat(e.colorTokens.border.neutral.tertiary.base),minHeight:"44px"}},E=function(e){var n=e.value,t=e.onTopicsUpdated,a=e.disabled,r=void 0!==a&&a,u=e.placeholder,s=void 0===u?"Add topics...":u,k=e.limit,p=void 0===k?5:k,v=e.includeNormalized,E=void 0!==v&&v,P=e.onFocus,T=e.onBlur,_="tagMultiSelectMenu",C=(0,d.m)().query,D=(0,m.l)(),I=(0,o.useRef)(null),A=(0,o.useRef)(null),R=(0,o.useState)(""),O=(0,i.A)(R,2),L=O[0],M=O[1],V=(0,o.useState)([]),j=(0,i.A)(V,2),G=j[0],B=j[1],U=(0,o.useState)(null),z=(0,i.A)(U,2),W=z[0],Z=z[1],q=n.length>=p,K=function(){M(""),B([]),Z(null)},H=function(e){if(!q){var i=e.id?{id:e.id,displayTitle:e.displayTitle,normalizedTagSlug:e.normalizedTagSlug,followerCount:e.followerCount,__typename:"Tag"}:{id:"temp_".concat(L.toLowerCase().replace(/ /g,"_")),displayTitle:L,normalizedTagSlug:"",followerCount:0,__typename:"Tag"};n.some((function(e){var n,t;return e.id===i.id||(null===(n=e.displayTitle)||void 0===n?void 0:n.toLowerCase())===(null===(t=i.displayTitle)||void 0===t?void 0:t.toLowerCase())}))||t([].concat((0,l.A)(n),[i])),K()}};(0,o.useEffect)((function(){return A.current=window.setTimeout((function(){if(L&&!q){var e=new AbortController;I.current=e;var n={signal:e.signal};C({context:{fetchOptions:n},variables:{prefix:L,includeNormalized:E},query:N}).then((function(e){var n=e.errors,t=e.loading,i=e.data.tagsTypeahead;if(!(t||n&&n.length))if(i.find((function(e){var n;return(null===(n=e.displayTitle)||void 0===n?void 0:n.toLowerCase())===L.toLowerCase()})))B((0,l.A)(i));else{var a={id:"",displayTitle:"".concat(L," (new)"),normalizedTagSlug:"",followerCount:0,__typename:"Tag"};B([a].concat((0,l.A)(i)))}}))}else G.length&&B([])}),300),function(){A.current&&clearTimeout(A.current),I&&I.current&&I.current.abort()}}),[L,q]);var X=(0,y.Z)({name:"detail",scale:"M",color:"DARKER"});return o.createElement(f,{ariaId:_,onSelect:H,selectedTagIndex:W,setSelectedTagIndex:Z,tags:G,noPortal:!1},o.createElement("div",{className:D(w)},o.createElement(g.a,{display:"flex",flexWrap:"wrap",gap:"8px",alignItems:"center"},n.map((function(e,i){return o.createElement("div",{key:e.id||"tag-".concat(i),className:D(h)},o.createElement(c.kZ,{color:"DARKER",scale:"S",clamp:1},e.displayTitle),o.createElement("button",{type:"button",className:D(F),onClick:function(){return i=e,void t(n.filter((function(e){return e.id!==i.id})));var i},"aria-label":"Remove ".concat(e.displayTitle)},o.createElement(S.A,{className:D(x)})))})),!q&&o.createElement("input",{role:"combobox","aria-controls":_,"aria-expanded":G.length?"true":"false","aria-autocomplete":"list",className:D([b,X]),disabled:r,onChange:function(e){q||M(e.target.value)},onKeyUp:function(e){"Enter"===e.key&&("number"==typeof W?H(G[W]):G.length>0&&H(G[0]))},onFocus:function(){P&&P()},onBlur:function(){T&&T(),null===W&&K()},placeholder:0===n.length?s:"Add more topics...",value:L}))))},P=t(34317),T=t(79429),_=function(e){return{__typename:"PostTagsConnection",edges:e.map((function(e){return{__typename:"PostTagsEdge",node:e}}))}},C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetPostTagsMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagNames"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"setPostTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"targetPostId"},value:{kind:"Variable",name:{kind:"Name",value:"targetPostId"}}},{kind:"Argument",name:{kind:"Name",value:"tagNames"},value:{kind:"Variable",name:{kind:"Name",value:"tagNames"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostSettingsTags_post"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSettingsTags_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}},{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSettingsTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tagsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostSettingsTags_tag"}}]}}]}}]}}]}}]},D=function(e){var n=e.post,t=e.setIsRunningAsyncEvent,l=(0,P.$L)(),d=(0,o.useContext)(r.q),u=(0,T.s)({onPresentedFn:function(){return l.event("postSettings.tagsViewed",d)}}),s=function(e){if(!e)return[];var n=e.edges;return n?n.map((function(e){return e.node})).filter((function(e){return null!=e})):[]}(n.tagsConnection),m=(0,o.useState)(s),k=(0,i.A)(m,2),p=k[0],v=k[1],f=(0,a.n)(C),y=(0,i.A)(f,1)[0];return o.createElement(g.a,{ref:u},o.createElement(c.kZ,{scale:"S"},"Add up to five topics to help readers find your story."),o.createElement(g.a,{marginTop:"12px"},o.createElement(E,{value:p,onTopicsUpdated:function(e){l.event("postSettings.tagsSaved",d),v(e),null==t||t(!0),y({variables:{targetPostId:n.id,tagNames:e.map((function(e){return e.displayTitle||""}))},optimisticResponse:{__typename:"Mutation",setPostTags:{__typename:"Post",id:n.id,tagsConnection:_(e)}},onCompleted:function(){return null==t?void 0:t(!1)}})},placeholder:"Add a topic...",limit:5})))}},60219:(e,n,t)=>{t.d(n,{W:()=>c,X:()=>m});var i=t(92901),a=t(23029),o=t(85501),r=t(56822),l=t(53954),d=t(73437);function u(e){var n=s();return function(){var t,i=(0,l.A)(e);if(n){var a=(0,l.A)(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return(0,r.A)(this,t)}}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}var c=function(e){(0,o.A)(t,e);var n=u(t);function t(){return(0,a.A)(this,t),n.call(this,"Expected postResult to exist.\n       For more detail, try checking for GraphQL server errors with the same x-request-id.")}return(0,i.A)(t)}((0,d.A)(Error)),m=function(e){(0,o.A)(t,e);var n=u(t);function t(){return(0,a.A)(this,t),n.call(this,"Expected draftResult to exist.\n       For more detail, try checking for GraphQL server errors with the same x-request-id.")}return(0,i.A)(t)}((0,d.A)(Error))}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8432.a559dd25.chunk.js.map