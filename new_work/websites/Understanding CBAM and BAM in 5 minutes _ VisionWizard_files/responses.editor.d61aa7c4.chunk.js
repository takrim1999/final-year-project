/*! For license information please see responses.editor.d61aa7c4.chunk.js.LICENSE.txt */
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5258],{15279:(e,n,i)=>{i.r(n),i.d(n,{ThreadedInlineResponseEditor:()=>X});var a=i(82284),t=i(5544),d=i(96540),o=i(74793),l=i(70694),r=i(43389),m=i(88615),s=i(99836),u=i(10467),k=i(64467),c=i(17180),p=i(8389),v=i(82487),N=i(60602),S=i(78265),f=i(20704),y=i(60436);function F(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function g(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?F(Object(i),!0).forEach((function(n){(0,k.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):F(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,a=Array(n);i<n;i++)a[i]=e[i];return a}var _,b=i(98023),P=i.n(b),C=i(95420),D=i(34317),T=i(49287),E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updatePostResponse"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"responseId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"latestRev"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"deltas"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Delta"}}}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePostResponse"},arguments:[{kind:"Argument",name:{kind:"Name",value:"responseId"},value:{kind:"Variable",name:{kind:"Name",value:"responseId"}}},{kind:"Argument",name:{kind:"Name",value:"latestRev"},value:{kind:"Variable",name:{kind:"Name",value:"latestRev"}}},{kind:"Argument",name:{kind:"Name",value:"deltas"},value:{kind:"Variable",name:{kind:"Name",value:"deltas"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemType"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StreamItemPostSimpleResponse"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_post"}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Markups_markup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Markup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"anchorType"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"linkMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"httpStatus"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponseContent_markup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Markup"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_markup"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponseContent_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponseContent_markup"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DropCap_image"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MarkupNode_data_dropCapImage"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DropCap_image"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Markups_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"hasDropCap"}},{kind:"Field",name:{kind:"Name",value:"dropCapImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MarkupNode_data_dropCapImage"}}]}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_markup"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TextParagraph_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"hasDropCap"}},{kind:"Field",name:{kind:"Name",value:"codeBlockMetadata"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mode"}},{kind:"Field",name:{kind:"Name",value:"lang"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"Markups_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"buildQuotePreviewParagraph_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"markups"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"end"}},{kind:"Field",name:{kind:"Name",value:"start"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseQuote_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"quoteId"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TextParagraph_paragraph"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildQuotePreviewParagraph_quote"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseQuote_mediaResource"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MediaResource"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"href"}},{kind:"Field",name:{kind:"Name",value:"mediumQuote"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseQuote_quote"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostScrollTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPresentationTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"userUrl_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"domain"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasSubdomain"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserAvatar_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"membership"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tier"}}]}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"isUserVerifiedBookAuthor_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"verifications"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isBookAuthor"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserPronouns_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pronouns"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiModal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiModal_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReportUserMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"useHideResponseParent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"HideResponseMenuItemParent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useHideResponseParent_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"BlockUserMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UndoClapsMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"clapCount"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DeleteResponseMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"useReportStory_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ReportResponseDialog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useHideResponseParent_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useReportStory_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponsePopoverMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responseDistribution"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReportUserMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HideResponseMenuItemParent_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BlockUserMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UndoClapsMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"DeleteResponseMenuItem_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReportResponseDialog_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ResponseHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"isUserVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserLink_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserPronouns_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponsePopoverMenu_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SignInOptions_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SignUpOptions_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiModal_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SignInOptions_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SignUpOptions_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SusiClickable_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SusiModal_user"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVoteCount_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiVote_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_user"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVoteCount_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponseFooter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SimpleResponse_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponseContent_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToMediaResource"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseQuote_mediaResource"}}]}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostScrollTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPresentationTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponseFooter_post"}}]}}]};!function(e){e.success="SUCCESS",e.error="ERROR"}(_||(_={}));var O=function(e){var n;return(n={},(0,k.A)(n,_.success,"inlineEditor.publish"),(0,k.A)(n,_.error,"inlineEditor.publishError"),n)[e]},R=i(79756);function I(){var e=U(),n=e.m(I),i=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function a(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===i||"GeneratorFunction"===(n.displayName||n.name))}var t={throw:1,return:2,break:3,continue:3};function d(e){var n,i;return function(a){n||(n={stop:function(){return i(a.a,2)},catch:function(){return a.v},abrupt:function(e,n){return i(a.a,t[e],n)},delegateYield:function(e,t,d){return n.resultName=t,i(a.d,w(e),d)},finish:function(e){return i(a.f,e)}},i=function(e,i,t){a.p=n.prev,a.n=n.next;try{return e(i,t)}finally{n.next=a.n}}),n.resultName&&(n[n.resultName]=a.v,n.resultName=void 0),n.sent=a.v,n.next=a.n;try{return e.call(this,n)}finally{a.p=n.prev,a.n=n.next}}}return(I=function(){return{wrap:function(n,i,a,t){return e.w(d(n),i,a,t&&t.reverse())},isGeneratorFunction:a,mark:e.m,awrap:function(e,n){return new L(e,n)},AsyncIterator:j,async:function(e,n,i,t,o){return(a(n)?M:A)(d(e),n,i,t,o)},keys:x,values:w}})()}function w(e){if(null!=e){var n=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],i=0;if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}throw new TypeError((0,a.A)(e)+" is not iterable")}function x(e){var n=Object(e),i=[];for(var a in n)i.unshift(a);return function e(){for(;i.length;)if((a=i.pop())in n)return e.value=a,e.done=!1,e;return e.done=!0,e}}function A(e,n,i,a,t){var d=M(e,n,i,a,t);return d.next().then((function(e){return e.done?e.value:d.next()}))}function M(e,n,i,a,t){return new j(U().w(e,n,i,a),t||Promise)}function j(e,n){function i(a,t,d,o){try{var l=e[a](t),r=l.value;return r instanceof L?n.resolve(r.v).then((function(e){i("next",e,d,o)}),(function(e){i("throw",e,d,o)})):n.resolve(r).then((function(e){l.value=e,d(l)}),(function(e){return i("throw",e,d,o)}))}catch(e){o(e)}}var a;this.next||(V(j.prototype),V(j.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),V(this,"_invoke",(function(e,t,d){function o(){return new n((function(n,a){i(e,d,n,a)}))}return a=a?a.then(o,o):o()}),!0)}function U(){var e,n,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",t=i.toStringTag||"@@toStringTag";function d(i,a,t,d){var r=a&&a.prototype instanceof l?a:l,m=Object.create(r.prototype);return V(m,"_invoke",function(i,a,t){var d,l,r,m=0,s=t||[],u=!1,k={p:0,n:0,v:e,a:c,f:c.bind(e,4),d:function(n,i){return d=n,l=0,r=e,k.n=i,o}};function c(i,a){for(l=i,r=a,n=0;!u&&m&&!t&&n<s.length;n++){var t,d=s[n],c=k.p,p=d[2];i>3?(t=p===a)&&(r=d[(l=d[4])?5:(l=3,3)],d[4]=d[5]=e):d[0]<=c&&((t=i<2&&c<d[1])?(l=0,k.v=a,k.n=d[1]):c<p&&(t=i<3||d[0]>a||a>p)&&(d[4]=i,d[5]=a,k.n=p,l=0))}if(t||i>1)return o;throw u=!0,a}return function(t,s,p){if(m>1)throw TypeError("Generator is already running");for(u&&1===s&&c(s,p),l=s,r=p;(n=l<2?e:r)||!u;){d||(l?l<3?(l>1&&(k.n=-1),c(l,r)):k.n=r:k.v=r);try{if(m=2,d){if(l||(t="next"),n=d[t]){if(!(n=n.call(d,r)))throw TypeError("iterator result is not an object");if(!n.done)return n;r=n.value,l<2&&(l=0)}else 1===l&&(n=d.return)&&n.call(d),l<2&&(r=TypeError("The iterator does not provide a '"+t+"' method"),l=1);d=e}else if((n=(u=k.n<0)?r:i.call(a,k))!==o)break}catch(n){d=e,l=1,r=n}finally{m=1}}return{value:n,done:u}}}(i,t,d),!0),m}var o={};function l(){}function r(){}function m(){}n=Object.getPrototypeOf;var s=[][a]?n(n([][a]())):(V(n={},a,(function(){return this})),n),u=m.prototype=l.prototype=Object.create(s);function k(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,V(e,t,"GeneratorFunction")),e.prototype=Object.create(u),e}return r.prototype=m,V(u,"constructor",m),V(m,"constructor",r),r.displayName="GeneratorFunction",V(m,t,"GeneratorFunction"),V(u),V(u,t,"Generator"),V(u,a,(function(){return this})),V(u,"toString",(function(){return"[object Generator]"})),(U=function(){return{w:d,m:k}})()}function V(e,n,i,a){var t=Object.defineProperty;try{t({},"",{})}catch(e){t=0}V=function(e,n,i,a){function d(n,i){V(e,n,(function(e){return this._invoke(n,i,e)}))}n?t?t(e,n,{value:i,enumerable:!a,configurable:!a,writable:!a}):e[n]=i:(d("next",0),d("throw",1),d("return",2))},V(e,n,i,a)}function L(e,n){this.v=e,this.k=n}function B(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,a)}return i}function H(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?B(Object(i),!0).forEach((function(n){(0,k.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):B(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var Q=function(e){var n=e.responseId,i=e.parentEntityId,a=e.parentEntityTypename,o=e.initialValue,l=e.showEditorHeader,m=void 0===l||l,k=(0,T.jI)(),F=(0,D.$L)(),b=d.useContext(v.o),w=b.setIsEditing,x=b.createdAt,A=b.editingQuote,M=b.setEditingQuote,j=d.useContext(r.o),U=j.setIsSavingResponse,V=j.rootEntityId,L=j.rootEntityTypename,B=d.useContext(N.a).threadDepthFromRootEntity,Q=function(e){var n=e.responseId,i=(0,D.$L)(),a=(0,T.jI)(),o=d.useContext(v.o).latestRev,l=(0,C.n)(E,{variables:{responseId:n,latestRev:-1,deltas:[]},onError:function(){i.event(O(_.error),{responseId:n,source:a})},update:function(){i.event(O(_.success),{responseId:n,source:a})}}),r=(0,t.A)(l,2),m=r[0],s=r[1];return{updateResponse:d.useCallback((function(e){return m({variables:{latestRev:P()(o)?o:-1,deltas:e,responseId:n}})}),[m,n,o]),error:null==s?void 0:s.error,loading:null==s?void 0:s.loading}}({responseId:n}),G=Q.updateResponse,q=Q.error,z=Q.loading,W=d.useRef(null);d.useEffect((function(){var e;null!=W&&null!==(e=W.current)&&void 0!==e&&e.getBoundingClientRect&&W.current.getBoundingClientRect().bottom>window.innerHeight&&W.current.scrollIntoView({behavior:"smooth",block:"end"})}),[]);var Y=d.useCallback((function(e,t){var d=e.map((function(e){return e.paragraph&&!e.paragraph.markups?H(H({},e),{},{paragraph:H(H({},e.paragraph),{},{markups:[]})}):e})),l=function(e){var n,i,a=e.originalParagraphs,t=void 0===a?[]:a,d=e.newDeltas,o=void 0===d?[]:d,l=(0,y.A)(o),r=t.map((function(e,n){return{name:e.name,markups:e.markups,index:n}})),m=o.map((function(e){var n;return null==e||null===(n=e.paragraph)||void 0===n?void 0:n.name})),s=0,u=function(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(e){if("string"==typeof e)return h(e,n);var i={}.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var a=0,t=function(){};return{s:t,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var d,o=!0,l=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){l=!0,d=e},f:function(){try{o||null==i.return||i.return()}finally{if(l)throw d}}}}(null==r?void 0:r.filter((function(e){return!m.includes(e.name)})));try{for(u.s();!(i=u.n()).done;){var k=i.value;(!n||k.index<n)&&(n=k.index),l.splice(k.index,0,{index:k.index-s,type:2,paragraph:{name:k.name,markups:k.markups},verifySameName:!1}),s+=1}}catch(e){u.e(e)}finally{u.f()}return r.forEach((function(e){var n=e.name,i=e.index,a=l.findIndex((function(e){var i;return(null==e||null===(i=e.paragraph)||void 0===i?void 0:i.name)===n}));void 0!==a&&void 0!==l[a]&&l[a].index!==i&&2!==l[a].type&&(l[a]=g(g({},l[a]),{},{verifySameName:!1}))})),l}({originalParagraphs:null==o?void 0:o.paragraphs,newDeltas:d});U(!0),G(l).then((function(){w(!1),U(!1),F.event("response.edited",H(H(H({postId:n},(0,R.rz)(i,a)),(0,R.DL)(V,L)),{},{threadDepth:B,context:p.J.INLINE_POST_RESPONSE,source:k})),t()})).catch((function(){U(!1)}))}),[G]);return(0,c.Ox)(q)?d.createElement(s.x,{message:(0,R.it)(L)}):d.createElement("div",{ref:W},d.createElement(f.d,{isPublishingResponse:z,publishResponse:Y,type:S.o.edit,createdAt:x,onClose:(0,u.A)(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!1),w(!1),M(null),e.abrupt("return",{preventStateUpdate:!0});case 4:case"end":return e.stop()}}),e)}))),inResponseToQuote:A,initialValue:o,showEditorHeader:m}))},G=i(58168),q=i(60301),z=i(64760),W=i(49250),Y=i(52290),$=i(36557),K=function(e){var n=e.entityId,i=e.entitySlug,a=e.entityTypename,t=e.entityCreatorName,o=(0,R.bY)(a),l=(0,q.WZ)(),r={};return"Post"===a&&(r={postId:n}),"Catalog"===a&&(r={username:t,catalogSlugId:i}),d.createElement(Y.a,{backgroundColor:"BASE_NORMAL",display:"flex",flexDirection:"column",alignItems:"center",width:"100%",padding:"24px",gap:"24px"},d.createElement(Y.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},d.createElement($.kZ,{scale:"S",color:"DARKER"},"To respond",o?" to this ".concat(o):"",",",d.createElement("br",null),"get the free Medium app."),d.createElement(q.zl,(0,G.A)({isButton:!0,buttonSize:"SMALL",appEntry:"responsesSidebar",copy:l?"Continue in app":"Open in app"},r))),l?d.createElement(Y.a,{display:"flex",justifyContent:"center"},d.createElement(W.h,{entryPoint:"memberOnboardingAppPage",height:35,width:120}),d.createElement(Y.a,{paddingLeft:"20px"},d.createElement(z.v,{entryPoint:"memberOnboardingAppPage",height:35,width:120}))):null)},J=i(44402),Z=i(65550),X=function(e){var n=e.parentEntityId,i=e.parentEntityTypename,u=e.parentVersionId,k=e.parentCreatorName,c=e.parentEntitySlug,p=e.responseId,v=e.type,N=e.initialValue,f=e.viewerPronouns,y=e.editorOpenByDefault,F=void 0!==y&&y,g=e.autofocus,h=e.scrollIntoView,_=(0,d.useContext)(r.o),b=_.responsesLocked,P=_.isLockedResponse,C=_.rootEntityTypename,D=(0,d.useState)(!1),E=(0,t.A)(D,2),O=E[0],I=E[1],w=(0,J.l)(),x=v===S.o.edit,A=(0,Z.L)(),M=(0,d.useMemo)((function(){if(x&&N)return(0,l.RJ)(N)}),[x,N]);if((0,d.useEffect)((function(){void 0!==("undefined"==typeof document?"undefined":(0,a.A)(document))&&I(!0)}),[]),!O)return null;if(b){var j=(0,R.bY)(C),U=P&&j?"This response belongs to ".concat(j?"a ".concat(j," with "):"","a closed discussion. Responding is not supported at this time."):void 0;return d.createElement(s.x,{message:U})}return A?d.createElement(K,{entitySlug:c,entityId:n,entityTypename:i,entityCreatorName:k}):d.createElement(T.Ne,{source:{susiEntry:(0,R.gz)(i)},extendSource:!0},d.createElement(o.jG,{initialValue:M,localStorageId:p||n},x&&p?d.createElement($.kZ,{scale:"M",color:"DARKER",tag:"div"},d.createElement("div",{className:w({lineHeight:"24px",marginTop:"25px"})},d.createElement(Q,{responseId:p,parentEntityId:n,parentEntityTypename:i,initialValue:N,showEditorHeader:!1}))):d.createElement(m.Q,{parentEntityId:n,parentEntityTypename:i,parentVersionId:u,editorOpenByDefault:F,viewerPronouns:f,autofocus:g,scrollIntoView:h})))}},64760:(e,n,i)=>{i.d(n,{v:()=>u});var a=i(96540),t=i(90280),d=i(86527),o=i(34317),l=i(49287),r=i(90383),m=i(79959),s=i(46879),u=function(e){var n=e.entryPoint,i=e.height,u=void 0===i?41:i,k=e.width,c=void 0===k?135:k,p=(0,o.$L)(),v=(0,l.W9)();""===v&&(v=n);var N=(0,m.ST)((0,s.i89)(),{referrer:"utm_source=".concat(v)});return a.createElement(d.N,{href:N,onClick:function(){p.event("googlePlay.appStoreButtonClicked",{entryPoint:n})}},a.createElement(t.pg,{miroId:"1*W_RAPQ62h0em559zluJLdQ.png",width:c,height:u,strategy:r.qY.Resample,alt:"A button that says 'Get it on, Google Play', and if clicked it will lead you to the Google Play store"}))}},49250:(e,n,i)=>{i.d(n,{h:()=>u});var a=i(96540),t=i(90280),d=i(86527),o=i(34317),l=i(49287),r=i(90383),m=i(79959),s=i(46879),u=function(e){var n=e.entryPoint,i=e.height,u=void 0===i?41:i,k=e.width,c=void 0===k?135:k,p=(0,o.$L)(),v=(0,l.W9)();""===v&&(v=n);var N=(0,m.ST)((0,s.zkG)(),{ct:v});return a.createElement(d.N,{href:N,onClick:function(){p.event("apple.appStoreButtonClicked",{entryPoint:n})}},a.createElement(t.pg,{miroId:"1*Crl55Tm6yDNMoucPo1tvDg.png",width:c,height:u,strategy:r.qY.Resample,alt:"A button that says 'Download on the App Store', and if clicked it will lead you to the iOS App store"}))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/responses.editor.d61aa7c4.chunk.js.map