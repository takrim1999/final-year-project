/*! For license information please see 3507.73b736fc.chunk.js.LICENSE.txt */
"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3507],{87265:(e,n,i)=>{i.r(n),i.d(n,{MainContent:()=>Ee,PostSubmissionContext:()=>we,useLoader:()=>he});var t=i(5544),a=i(95964),l=i(96540),o=i(26365),d=i(77999),r=i(95765),m=i(37614),u=i(67173),s=i(27721),c=i(8697),k=i(49287),v=i(91586),p=i(51260),S=i(50684),N=i(69547),f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetPostForSubmissionQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSubmissionContext_post"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"draftResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DraftResultError_draftResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostSubmissionContext_draft"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UnavailableForLegalReasonsScreen_unavailableForLegalReasons"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnavailableForLegalReasons"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lumenId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"WithheldInCountryScreen_withheldInCountry"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WithheldInCountry"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lumenId"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionInputActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getStoryPreviewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getStoryPreviewData_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"alt"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getGridPostPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"GridPostPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_imageMetadata"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"getGridPostPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EditableStoryPreviewImage_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryStoryPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EditableStoryPreviewImage_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSettingsTags_tag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}},{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSettingsTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tagsConnection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostSettingsTags_tag"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UpdatePostPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PaywallPostCheckbox_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpdatePostPaywall_post"}},{kind:"Field",name:{kind:"Name",value:"inResponseToEntityType"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EmailSubscribersCheckbox_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"subscribersCount"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryStorySettings_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSettingsTags_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PaywallPostCheckbox_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EmailSubscribersCheckbox_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryForm_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryStoryPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryStorySettings_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ConfirmSubmissionScreen_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryForm_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"getStoryPreviewData_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postId"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"getStoryPreviewData_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StoryPreviewImageSelector_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageIds"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EditableStoryPreviewImage_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewImageSelector_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryStoryPreview_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryPreviewTitleAndSubtitle_draft"}},{kind:"FragmentSpread",name:{kind:"Name",value:"EditableStoryPreviewImage_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryForm_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryStoryPreview_draft"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostResultError_postResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UnavailableForLegalReasons"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UnavailableForLegalReasonsScreen_unavailableForLegalReasons"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WithheldInCountry"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"WithheldInCountryScreen_withheldInCountry"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSubmissionContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionInputActions_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ConfirmSubmissionScreen_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryForm_post"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DraftResultError_draftResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DraftResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSubmissionContext_draft"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Draft"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryForm_draft"}}]}}]},b=i(8118),g=i(14490),y=i(82284),F=i(10467),P=i(95420),w=i(90328),h=i(74163),E=i(52290),_=i(53424),C=i(86527),x=i(99731),D=i(36557),T=i(44402),I=i(91830),O=i(79959),R={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SubmitPostToPublication"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"publicationId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"submitToPublication"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"publicationId"},value:{kind:"Variable",name:{kind:"Name",value:"publicationId"}}},{kind:"ObjectField",name:{kind:"Name",value:"description"},value:{kind:"StringValue",value:"",block:!1}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]},A=i(15795);function L(){var e=G(),n=e.m(L),i=(Object.getPrototypeOf?Object.getPrototypeOf(n):n.__proto__).constructor;function t(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===i||"GeneratorFunction"===(n.displayName||n.name))}var a={throw:1,return:2,break:3,continue:3};function l(e){var n,i;return function(t){n||(n={stop:function(){return i(t.a,2)},catch:function(){return t.v},abrupt:function(e,n){return i(t.a,a[e],n)},delegateYield:function(e,a,l){return n.resultName=a,i(t.d,V(e),l)},finish:function(e){return i(t.f,e)}},i=function(e,i,a){t.p=n.prev,t.n=n.next;try{return e(i,a)}finally{n.next=t.n}}),n.resultName&&(n[n.resultName]=t.v,n.resultName=void 0),n.sent=t.v,n.next=t.n;try{return e.call(this,n)}finally{t.p=n.prev,t.n=n.next}}}return(L=function(){return{wrap:function(n,i,t,a){return e.w(l(n),i,t,a&&a.reverse())},isGeneratorFunction:t,mark:e.m,awrap:function(e,n){return new W(e,n)},AsyncIterator:B,async:function(e,n,i,a,o){return(t(n)?M:U)(l(e),n,i,a,o)},keys:j,values:V}})()}function V(e){if(null!=e){var n=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],i=0;if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}}}throw new TypeError((0,y.A)(e)+" is not iterable")}function j(e){var n=Object(e),i=[];for(var t in n)i.unshift(t);return function e(){for(;i.length;)if((t=i.pop())in n)return e.value=t,e.done=!1,e;return e.done=!0,e}}function U(e,n,i,t,a){var l=M(e,n,i,t,a);return l.next().then((function(e){return e.done?e.value:l.next()}))}function M(e,n,i,t,a){return new B(G().w(e,n,i,t),a||Promise)}function B(e,n){function i(t,a,l,o){try{var d=e[t](a),r=d.value;return r instanceof W?n.resolve(r.v).then((function(e){i("next",e,l,o)}),(function(e){i("throw",e,l,o)})):n.resolve(r).then((function(e){d.value=e,l(d)}),(function(e){return i("throw",e,l,o)}))}catch(e){o(e)}}var t;this.next||(Y(B.prototype),Y(B.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Y(this,"_invoke",(function(e,a,l){function o(){return new n((function(n,t){i(e,l,n,t)}))}return t=t?t.then(o,o):o()}),!0)}function G(){var e,n,i="function"==typeof Symbol?Symbol:{},t=i.iterator||"@@iterator",a=i.toStringTag||"@@toStringTag";function l(i,t,a,l){var r=t&&t.prototype instanceof d?t:d,m=Object.create(r.prototype);return Y(m,"_invoke",function(i,t,a){var l,d,r,m=0,u=a||[],s=!1,c={p:0,n:0,v:e,a:k,f:k.bind(e,4),d:function(n,i){return l=n,d=0,r=e,c.n=i,o}};function k(i,t){for(d=i,r=t,n=0;!s&&m&&!a&&n<u.length;n++){var a,l=u[n],k=c.p,v=l[2];i>3?(a=v===t)&&(r=l[(d=l[4])?5:(d=3,3)],l[4]=l[5]=e):l[0]<=k&&((a=i<2&&k<l[1])?(d=0,c.v=t,c.n=l[1]):k<v&&(a=i<3||l[0]>t||t>v)&&(l[4]=i,l[5]=t,c.n=v,d=0))}if(a||i>1)return o;throw s=!0,t}return function(a,u,v){if(m>1)throw TypeError("Generator is already running");for(s&&1===u&&k(u,v),d=u,r=v;(n=d<2?e:r)||!s;){l||(d?d<3?(d>1&&(c.n=-1),k(d,r)):c.n=r:c.v=r);try{if(m=2,l){if(d||(a="next"),n=l[a]){if(!(n=n.call(l,r)))throw TypeError("iterator result is not an object");if(!n.done)return n;r=n.value,d<2&&(d=0)}else 1===d&&(n=l.return)&&n.call(l),d<2&&(r=TypeError("The iterator does not provide a '"+a+"' method"),d=1);l=e}else if((n=(s=c.n<0)?r:i.call(t,c))!==o)break}catch(n){l=e,d=1,r=n}finally{m=1}}return{value:n,done:s}}}(i,a,l),!0),m}var o={};function d(){}function r(){}function m(){}n=Object.getPrototypeOf;var u=[][t]?n(n([][t]())):(Y(n={},t,(function(){return this})),n),s=m.prototype=d.prototype=Object.create(u);function c(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,Y(e,a,"GeneratorFunction")),e.prototype=Object.create(s),e}return r.prototype=m,Y(s,"constructor",m),Y(m,"constructor",r),r.displayName="GeneratorFunction",Y(m,a,"GeneratorFunction"),Y(s),Y(s,a,"Generator"),Y(s,t,(function(){return this})),Y(s,"toString",(function(){return"[object Generator]"})),(G=function(){return{w:l,m:c}})()}function Y(e,n,i,t){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}Y=function(e,n,i,t){function l(n,i){Y(e,n,(function(e){return this._invoke(n,i,e)}))}n?a?a(e,n,{value:i,enumerable:!t,configurable:!t,writable:!t}):e[n]=i:(l("next",0),l("throw",1),l("return",2))},Y(e,n,i,t)}function W(e,n){this.v=e,this.k=n}var Z={display:"flex",flexDirection:"column",gap:"48px",justifyContent:"space-between",paddingTop:"32px",paddingBottom:"32px"},H=function(e){var n,i,a,o=e.deliveryDisabled,d=(0,l.useState)(!1),r=(0,t.A)(d,2),m=r[0],u=r[1],s=(0,l.useState)(!1),c=(0,t.A)(s,2),k=c[0],v=c[1],N=(0,l.useContext)(we),f=N.selectedPublication,b=N.post,g=N.stepToPublicationScreen,y=(0,h.g)((null==f?void 0:f.slug)||""),V=y.isOwnerOrEditor,j=y.isWriter,U=V||j,M=(0,S.pE)("redirectUrl"),B=(0,A.G)(),G=(0,T.l)(),Y=function(){var e=(0,F.A)(L().mark((function e(){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&null!=f&&f.id){e.next=2;break}return e.abrupt("return",{success:!1,message:"No post or publication selected"});case 2:return e.prev=2,e.next=5,ie({variables:{postId:b.id,publicationId:f.id},onCompleted:function(){v(!0),B("submission.postSubmitted"),(0,I.MZ)({message:"You have submitted your story to ".concat(null==f?void 0:f.name)}),M?window.location.href=M:!V||null!=b&&b.isPublished?q(J,{replace:!0}):window.location.href=ee},onError:function(e){var n="Something went wrong while submitting your story. Please try again.";throw e instanceof Error&&(e.message.includes("asserting submission max cap")||e.message.includes("max submissions cap reached"))?n="You have reached the maximum number of active submissions for this publication.":e instanceof Error&&e.message.includes("user cannot create submission due to submission mode rules")?n="This publication is not accepting submissions for unapproved writers at this moment.":e instanceof Error&&e.message.includes("invalid post state")&&(n=e.message.split(", ").at(-1)||"Unknown error"),(0,I.MZ)({message:n}),new Error(n)}});case 5:return e.abrupt("return",{success:!0});case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",{success:!1,message:e.t0 instanceof Error?e.t0.message:"Unknown error"});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),W=(0,l.useActionState)(Y,{success:null}),H=(0,t.A)(W,3),z=H[0],K=H[1],X=H[2],q=(0,w.Zp)(),$=(0,p.om)(),Q=(0,p.au)(),J=(0,O.ST)($("ShowYourStoriesRedirect",{}),{tab:"submissions-outbox"}),ee=Q("ShowEditPost",{postId:(null==b?void 0:b.id)||""}),ne=(0,P.n)(R),ie=(0,t.A)(ne,1)[0],te=(null==f||null===(n=f.preferences)||void 0===n||null===(i=n.find((function(e){return"submission_guidelines_url"===e.name})))||void 0===i||null===(a=i.value)||void 0===a?void 0:a.value)||"",ae=m||!te||U,le=!!te&&!U;return(0,l.useEffect)((function(){B("submission.submissionConfirmationActions.viewed",{redirectUrl:M,submissionGuidelinesShown:le})}),[]),l.createElement("form",{className:G(Z),action:K},!1===z.success&&l.createElement(D.kZ,{scale:"M",color:"ERROR"},"Submission failed: ",z.message),le&&l.createElement(E.a,{display:"flex",flexDirection:"column",gap:"16px",paddingTop:"24px",borderTop:"neutral.tertiary"},l.createElement(_.S,{checked:m,onChange:function(){u(!m),B("submission.guidelinesChecked")},required:!0,checkboxStyle:"SUBTLE"},l.createElement(D.kZ,{scale:"M",color:"DARKER"},"My story follows the publication's"," ",l.createElement(C.N,{href:te,target:"_blank",inline:!0,linkStyle:"OBVIOUS"},"submission guidelines"),"."))),l.createElement(E.a,{display:"flex",justifyContent:"flex-start",gap:"10px"},l.createElement(x.$n,{onClick:g,buttonStyle:"SUBTLE",type:"button",size:"SMALL"},"Back"),l.createElement(x.$n,{buttonStyle:"BRAND",type:"submit",disabled:!ae||X||k||o,size:"SMALL"},X||k?"Submitting...":"Submit")))},z=function(e){var n=e.redirectUrl,i=(0,l.useContext)(we),t=i.selectedPublication,a=i.post,o=i.draft;return t&&a?l.createElement(b.m,{redirectUrl:n},l.createElement(b.E,null,l.createElement(g.z,{post:a,draft:null!=o?o:void 0,publication:t,settingsColumnLabel:"Submitting"},(function(e){return l.createElement(H,{deliveryDisabled:e})})))):null},K=i(10531),X=i(55127),q=i.n(X),$=i(79501),Q=i(90383),J=function(e){var n,i,t,a,o,d,r=e.publication,m=null===(n=r.theme)||void 0===n||null===(i=n.accentColor)||void 0===i?void 0:i.rgb,u=null===(t=r.theme)||void 0===t?void 0:t.backgroundImage,s=(0,T.l)();if(null!=u&&u.id){var c=u.id,k=u.alt,v=(o=u.focusPercentX,d=u.focusPercentY,{width:"100%",aspectRatio:"8",objectFit:"cover",objectPosition:"".concat((0,Q.Gw)(o),"% ").concat((0,Q.Gw)(d),"%"),borderTopLeftRadius:"3px",borderTopRightRadius:"3px"});return l.createElement($.t,{miroId:c,strategy:Q.qY.Resample,alt:k||"Publication header background image",webp:!0,height:40,rules:v})}return l.createElement("div",{className:s((a=m,function(e){return{flexGrow:1,flexShrink:0,borderBottom:a&&"#FFFFFF"!==a?"none":"1px solid ".concat(e.colorTokens.border.neutral.tertiary.base),backgroundColor:a||"transparent",borderTopLeftRadius:"3px",borderTopRightRadius:"3px"}}))})},ee=i(23835),ne=i(42136),ie=i(56942),te=i(27715),ae=function(e){var n,i,t=e.publication,a=e.disableSelection,o=void 0!==a&&a,d=e.isTruncated,r=void 0!==d&&d,m=e.minWidth,u=(0,l.useContext)(we),s=u.selectedPublication,c=u.setSelectedPublication,v=u.post,S=u.stepToConfirmScreen,N=(0,T.l)(),f=(0,p.au)()("ShowCollectionMasthead",{collectionSlug:t.slug}),b=(0,A.G)(),g=(0,k.jI)(),y=t.followGraph,F=t.preferences,P=(null==y?void 0:y.followerCount)||0,w="".concat((0,te.Ct)(P)," ").concat(q()("follower",P)),h=null==F||null===(n=F.find((function(e){return"submission_guidelines_url"===e.name})))||void 0===n||null===(i=n.value)||void 0===i?void 0:i.value,_=(null==s?void 0:s.id)===t.id,x=(0,l.useCallback)((function(){c(t),b("submission.publicationSelected"),S()}),[t.id,null==v?void 0:v.id,b,g]);return l.createElement("button",{key:t.id,onClick:x,className:N((function(e){return{display:"flex",flexDirection:"column",border:"1px solid",borderColor:_&&!o?e.colorTokens.border.neutral.secondary.base:e.colorTokens.border.neutral.tertiary.base,borderRadius:"4px",padding:0,cursor:o?"default":"pointer",minWidth:m,width:"100%"}})),type:"button",disabled:o,"aria-pressed":_},!r&&l.createElement(E.a,{height:"40px",width:"100%",overflow:"hidden",display:"flex",flexDirection:"column",flexShrink:"0"},l.createElement(J,{publication:t})),l.createElement(E.a,{padding:"16px 24px",display:"flex",gap:"12px",flexDirection:"column",flexGrow:"1"},l.createElement(E.a,{display:"flex",gap:"12px"},l.createElement(ee.m,{publication:t,scale:"S"}),l.createElement(E.a,{textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center"},l.createElement(ie.DZ,{scale:"XS",clamp:2},t.name))),l.createElement(E.a,{textAlign:"left",display:"flex",flexGrow:"1"},l.createElement(D.kZ,{scale:"M",clamp:2,color:"DARKER"},t.description)),!r&&l.createElement(ne.z,{middotPadding:"8px",display:"flex"},y&&l.createElement(D.kZ,{scale:"S",color:"LIGHTER"},l.createElement(C.N,{href:f,linkStyle:"SUBTLE",target:"_blank",inline:!0},w)),!!h&&l.createElement(D.kZ,{scale:"S",color:"LIGHTER"},l.createElement(C.N,{href:h,linkStyle:"SUBTLE",target:"_blank",inline:!0},"View guidelines")))))},le={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"repeat(2, 1fr)",md:"repeat(2, 1fr)",lg:"repeat(3, 1fr)",xl:"repeat(4, 1fr)"},gap:"".concat(20,"px"),width:"100%"},oe=function(){return l.createElement(E.a,{height:"".concat(220,"px"),width:"100%",backgroundColor:"BASE_NORMAL",borderRadius:"8px",display:"flex",flexDirection:"column",padding:"16px"})},de=function(){return l.createElement(E.a,{display:"flex",flexDirection:"column",gap:"32px",marginBottom:"20px"},l.createElement(E.a,{display:"flex",flexDirection:"column",gap:"10px"},l.createElement(E.a,{width:"100%",height:"30px",backgroundColor:"BASE_NORMAL"}),l.createElement(E.a,{width:"100%",height:"30px",backgroundColor:"BASE_NORMAL"})),l.createElement(E.a,{width:"33%",height:"30px",backgroundColor:"BASE_NORMAL"}))},re=function(){return l.createElement(K.H,{numPlaceholders:1},l.createElement(oe,null))},me=function(e){var n=e.numRows,i=void 0===n?1:n,t=(0,T.l)(),a=4*i;return l.createElement(E.a,null,l.createElement(K.H,{numPlaceholders:1},l.createElement(de,null)),l.createElement("div",{className:t(le)},Array.from({length:a},(function(e,n){return l.createElement(re,{key:"loading-placeholder-".concat(n)})}))))},ue=function(e){var n=e.publications,i=(0,T.l)();return l.createElement("div",{className:i(le)},n.map((function(e){return l.createElement(ae,{key:"submission-pub-preview-".concat(e.id),publication:e})})))},se=i(26947),ce=i(39160),ke=i(46879),ve=function(e){var n=e.emptyStateMessageToShow;return l.createElement(E.a,{textAlign:"center",minHeight:"200px",display:"flex",flexDirection:"column",gap:"16px",justifyContent:"center"},l.createElement(D.kZ,{scale:"M",color:"DARKER"},n),l.createElement(C.N,{href:"https://medium.com/@MediumStaff/list/mediums-huge-list-of-publications-accepting-submissions-7c0ec8037e61",target:"_blank",linkStyle:"OBVIOUS",inline:!0},l.createElement(D.kZ,{scale:"M",color:"DARKER"},"Explore our list of publications currently accepting submissions")))},pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WriterOutboxPublicationsYouFollowQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"followedEntitiesConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"orderBy"},value:{kind:"StringValue",value:"lastPublishedAt desc",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"filterType"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"PUBLICATION"}]}},{kind:"ObjectField",name:{kind:"Name",value:"filterCanSubmit"},value:{kind:"BooleanValue",value:!0}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionPublicationPreviewCard_publication"}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionPostPreviewBanner_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"theme"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accentColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rgb"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"publicationViewerStaffRole_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PublicationViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerStaffRole"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryStorySettings_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"publicationViewerStaffRole_viewerEdge"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryForm_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryStorySettings_publication"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSubmissionContext_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryForm_publication"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionPublicationPreviewCard_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"followGraph"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"Field",name:{kind:"Name",value:"preferences"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"value"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StringPreferenceValue"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionPostPreviewBanner_publication"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSubmissionContext_publication"}}]}}]},Se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WriterOutboxPublicationsYouWriteFor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"writerAndAdminCollections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"compatV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useValidPublications_publication"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionPostPreviewBanner_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"theme"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accentColor"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rgb"}}]}},{kind:"Field",name:{kind:"Name",value:"backgroundImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"publicationViewerStaffRole_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PublicationViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewerStaffRole"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryStorySettings_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"publicationViewerStaffRole_viewerEdge"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostDeliveryForm_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryStorySettings_publication"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSubmissionContext_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostDeliveryForm_publication"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SubmissionPublicationPreviewCard_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"followGraph"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followerCount"}}]}},{kind:"Field",name:{kind:"Name",value:"preferences"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"value"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"StringPreferenceValue"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionPostPreviewBanner_publication"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSubmissionContext_publication"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"useValidPublications_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userEdge"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canSubmit"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SubmissionPublicationPreviewCard_publication"}}]}}]},Ne=i(95107),fe=function(e){var n=e.children;return l.createElement(E.a,{display:"flex",flexDirection:"column",gap:"10px",textAlign:"center",width:"100%",alignItems:"center"},n)},be=function(e){var n=e.children;return l.createElement(Ne.mz,{scale:"L"},n)},ge=function(e){var n=e.children;return l.createElement(D.kZ,{scale:"M",color:"LIGHTER"},n)},ye={display:"flex",gap:"".concat(20,"px"),overflow:"scroll",paddingBottom:"".concat(48,"px"),scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}},Fe=function(e){var n,i,o,d,r,m=e.redirectUrl,u=(0,T.l)(),c=(0,ce.d4)((function(e){return e.config.authDomain})),k=(0,l.useState)("following"),v=(0,t.A)(k,2),p=v[0],S=v[1],N=(n=(0,s.R)().value,i=(0,a.IT)(pe,{variables:{first:32,after:""}}),o=(0,a.IT)(Se,{variables:{userId:(null==n?void 0:n.id)||""}}),d=(0,l.useMemo)((function(){var e,n,i;return(null===(e=o.data)||void 0===e||null===(n=e.viewer)||void 0===n||null===(i=n.writerAndAdminCollections)||void 0===i?void 0:i.map((function(e){return e.compatV3})))||[]}),[i]),{openFollowedPublications:r=(0,l.useMemo)((function(){var e,n,t,a;return((null===(e=i.data)||void 0===e||null===(n=e.viewer)||void 0===n||null===(t=n.viewerEdge)||void 0===t||null===(a=t.followedEntitiesConnection)||void 0===a?void 0:a.edges.map((function(e){return e.node.entity})))||[]).filter((function(e){return null!==e&&"Publication"===e.__typename}))}),[i]),openStaffPublications:(0,l.useMemo)((function(){return d.filter((function(e){var n;return null!==e&&"Publication"===e.__typename&&(null===(n=e.userEdge)||void 0===n?void 0:n.canSubmit)})).map((function(e){return e}))}),[d]),hasSomeStaffPublications:d.length>0,hasSomeFollowedPublications:r.length>0,loadingPublications:i.loading||o.loading}),f=N.openFollowedPublications,g=N.openStaffPublications,y=N.hasSomeStaffPublications,F=N.hasSomeFollowedPublications,P=N.loadingPublications,w=[{text:"Contributing",onClick:function(){return S("contributing")},isActive:"contributing"===p},{text:"Following",onClick:function(){return S("following")},isActive:"following"===p}],h="following"===p?f:g,_=0===h.length,x=(0,A.G)();(0,l.useEffect)((function(){y&&S("contributing")}),[y]),(0,l.useEffect)((function(){x("submission.publicationSelectionScreen.viewed",{numberOfPublicationsShown:f.length+g.length})}),[]);var I=(0,l.useMemo)((function(){if(_)return"following"===p?"You don't follow any open publications.":"You don't contribute to any open publications."}),[p,_]);if(!y&&!F&&!P)return l.createElement(b.m,{redirectUrl:m,isFullViewportHeight:!0},l.createElement(E.a,{display:"flex",maxWidth:"700px",justifyContent:"center",alignItems:"center",textAlign:"center"},l.createElement(D.kZ,{scale:"L",color:"DARKER"},"Medium publications are shared spaces for stories written around a common theme or topic, usually by multiple writers. You can submit to any publication you follow, as long as it's currently accepting stories. ",l.createElement("br",null),l.createElement("br",null),"Follow a publication to unlock submissions."," ",l.createElement(C.N,{href:(0,ke.rJ9)(c),inline:!0,linkStyle:"OBVIOUS"},"Explore our recommended list")," ","to get started.")));var O=(_||!h)&&!P;return l.createElement(b.m,{redirectUrl:m},l.createElement(E.a,{display:"flex",flexDirection:"column",gap:"32px",width:"100%"},l.createElement(fe,null,l.createElement(be,null,"Submit to a publication"),l.createElement(E.a,{maxWidth:"694px"},l.createElement(ge,null,"Medium publications are shared spaces for stories written around a common theme or topic, usually by multiple writers. You can submit to any publication you follow, as long as it's currently accepting stories."," ",l.createElement(C.N,{href:ke.TZX,target:"_blank",linkStyle:"OBVIOUS",inline:!0},"Learn more")))),y&&l.createElement(E.a,{marginTop:"16px"},l.createElement(se.F,{items:w,centered:!0})),O?l.createElement(ve,{emptyStateMessageToShow:null!=I?I:""}):P?l.createElement(E.a,{display:"flex",flexDirection:"column",gap:"32px",width:"100%"},l.createElement(me,{numRows:1})):l.createElement("div",{className:u(ye)},l.createElement(ue,{publications:h}))))},Pe=function(e){var n=e.children;return l.createElement(k.Ne,{source:{name:"submission"}},n)},we=(0,l.createContext)({selectedPublication:null,setSelectedPublication:function(){return null},post:null,draft:null,stepToConfirmScreen:function(){return null},stepToPublicationScreen:function(){return null}}),he=function(e){var n=(0,s.R)(),i=n.loading,t=n.value,l=e.postId||"",o=(0,a.IT)(f,{variables:{postId:l},skip:!(null!=t&&t.id&&l)}),d=o.data,r=(d=void 0===d?{}:d).postResult,m=void 0===r?null:r,u=d.draftResult,c=void 0===u?null:u,k=o.loading;return{postResult:m,draftResult:c,viewer:t,loading:i||k,error:o.error}},Ee=function(e){var n,i,a=e.params,s=e.postResult,k=e.draftResult,f=e.viewer,b=e.loading,g=e.error,y=(0,v.U)(),F=(0,l.useState)(null),P=(0,t.A)(F,2),w=P[0],h=P[1],E=(0,l.useState)("PUBLICATION_SELECTION"),_=(0,t.A)(E,2),C=_[0],x=_[1],D=(0,p.om)()("ShowYourStoriesRedirect",{tab:"submissions-outbox"}),T=(0,S.pE)("redirectUrl")||D,I=(0,N.t)(s)&&(null===(n=s.creator)||void 0===n?void 0:n.id)!==(null==f?void 0:f.id),O=(0,A.G)();if((0,l.useEffect)((function(){O("submission.submissionStarted.viewed")}),[]),b)return l.createElement(r.x,null);if(!f)return l.createElement(c.W,null);if(g)return l.createElement(o.z,{error:g});if((0,N.t)(s)&&s.isNewsletter)return l.createElement(d.u,null);if(!a.postId||I)return y.warn({message:"PostSubmission: Rendering 404 - failed validation checks",postId:a.postId,viewerId:null==f?void 0:f.id,isPost:(0,N.t)(s),postCreatorId:(0,N.t)(s)?null===(i=s.creator)||void 0===i?void 0:i.id:null,viewerIsNotPostCreator:I}),l.createElement(d.u,null);if((0,u.M)(s))return l.createElement(u.a,{postResult:s});var R={selectedPublication:w,setSelectedPublication:h,post:s,draft:(0,m.X)(k)?null:k,stepToConfirmScreen:function(){x("CONFIRM_SUBMISSION")},stepToPublicationScreen:function(){x("PUBLICATION_SELECTION")}};return l.createElement(Pe,null,l.createElement(we.Provider,{value:R},"PUBLICATION_SELECTION"===C&&l.createElement(Fe,{redirectUrl:T}),"CONFIRM_SUBMISSION"===C&&l.createElement(z,{redirectUrl:T})))}},15795:(e,n,i)=>{i.d(n,{G:()=>m});var t=i(64467),a=i(96540),l=i(34317),o=i(49287),d=i(87265);function r(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}var m=function(){var e=(0,l.$L)(),n=(0,o.jI)(),i=(0,a.useContext)(d.PostSubmissionContext),m=i.post,u=i.selectedPublication;return function(i){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.event(i,function(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){(0,t.A)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}({postId:null==m?void 0:m.id,collectionId:null==u?void 0:u.id,source:n},a))}}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/3507.73b736fc.chunk.js.map