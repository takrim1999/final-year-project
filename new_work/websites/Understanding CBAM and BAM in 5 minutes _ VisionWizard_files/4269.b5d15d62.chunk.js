"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4269],{64269:(e,t,n)=>{n.d(t,{X:()=>U,j:()=>L});var i=n(5544),l=n(58168),a=n(95964),o=n(44964),r=n(96540),s=n(27721),u=n(86329),d=n(1722),c=n(79647),m=n(52290),p=n(86527),h=n(99731),b=n(3005),k=n(48198),y=n(36557),v=n(95107),E=n(66305),f=n(42976),g=n(91830),S=n(50684),N=n(75599),w=n(39160),x=n(18642),I=n(27507),T=n(48642),A=n(56921),P=n(79959),D=n(46879),B={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPublishedDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_post"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}}]}}]},F=n(12731),R=function(){return r.createElement(m.a,null,r.createElement(p.N,{inline:!0,linkStyle:"OBVIOUS",href:(0,D.BdX)()},"Learn more")," ","about what happens to your story when you publish.")};var L,_=function(e){var t=e.url,n=e.label,i=e.post,a=e.isFriendLink,o=void 0!==a&&a,s=e.testId,u={postId:null==i?void 0:i.id,source:"post_publish_dialog"};return r.createElement(A.B,(0,l.A)({url:t},u),(function(e){return r.createElement(m.a,{marginBottom:"8px"},r.createElement(h.$n,{"data-testid":null!=s?s:"publishSuccessCopyLinkButton",buttonStyle:"SOCIAL",size:"LARGE",padding:h.Rc,width:h.Gk,onClick:function(e){return e}},r.createElement(m.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},o?r.createElement(I.A,null):r.createElement(T.A,null),e?"Copied!":n,r.createElement(m.a,{height:"24px",width:"24px"}))))}))},C=function(e){var t=e.post,n=e.isUnlisted,i=e.postPath;return r.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center"},r.createElement(y.kZ,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(n)),r.createElement(m.a,{marginTop:"20px"},!n&&r.createElement(r.Fragment,null,r.createElement(c._,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",postId:t.id,testId:"publishSuccessShareFbButton"}),r.createElement(m.a,{marginBottom:"12px"}),r.createElement(c._,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",postId:t.id,testId:"publishSuccessShareTwitterButton"}),r.createElement(m.a,{marginBottom:"12px"}),r.createElement(c._,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",postId:t.id,testId:"publishSuccessShareLinkedinButton"}),r.createElement(m.a,{marginBottom:"12px"})),r.createElement(_,{url:i,label:"Copy link",post:t})))},O=function(e){var t=e.viewerId,n=e.isVisible,i=e.hide,l=e.post,a=(0,F.bt)(),o=l.id,s=l.visibility,u=l.curationEligibleAt,c=l.mediumUrl,h=l.isNewsletter,E=l.isPublishToEmail,g=l.isMarkedPaywallOnly,S=l.creator,N=(0,d.h)(l),I=N.viewerEdge,T=N.loading,A="UNLISTED"===s,B=!!u,L=(null==I?void 0:I.creatorPartnerProgramEnrollmentStatus)===f.$X.ENROLLED,O=null==I?void 0:I.shareKey,U=(0,w.d4)((function(e){return e.config.productName})),V="Your story is published!";return E&&t===(null==S?void 0:S.id)?V="Your story has been published and sent!":h&&(V="Your newsletter is on its way!"),(0,r.useEffect)((function(){n&&a()}),[n]),T?null:r.createElement(b.l,{isVisible:n,hide:i,withAnimation:!0,withCloseButton:!1},r.createElement(m.a,{background:x.ON,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,x.qy)(.15)),position:"relative",textAlign:"center",width:{xs:"calc(100vw - 128px)",sm:"calc(100vw - 128px)",md:"600px",lg:"900px",xl:"900px"}},r.createElement(m.a,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},r.createElement(m.a,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},r.createElement(v.mz,{scale:"L",tag:"h3",testId:"publishSuccessTitleText"},V),r.createElement(m.a,{maxWidth:"520px",marginTop:"20px"},r.createElement(y.kZ,{color:"DARKER",scale:"L",testId:"publishSuccessBodyText"},function(e,t,n,i,l,a){return i?function(e,t){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(t,"."):r.createElement(r.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",t," readers’ homepages and Digest emails depending on their interests."," ",r.createElement(p.N,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,a):e?"Your unlisted story will not appear publicly on ".concat(a,", but you can still share it."):l?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":n?t?r.createElement(r.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money by placing it behind the paywall.",r.createElement(R,null)):r.createElement(r.Fragment,null,"You did not choose to paywall this story, so it won't be eligible to earn money.",r.createElement(R,null)):r.createElement(r.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",a," Partner Program."," ",r.createElement(p.N,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(A,B,L,h,null!=g&&g,U))),r.createElement(m.a,{paddingTop:"20px"},B&&!A&&c&&O&&r.createElement(_,{url:(0,P.ST)((0,D.us)(l),{sk:O}),label:"Copy Friend Link",post:l,isFriendLink:!0,testId:"publishSuccessCopyFriendLinkButton"})),r.createElement(m.a,{borderBottom:"neutral.primary",width:"100%",margin:"20px 0"})),o&&c&&r.createElement(C,{post:l,isUnlisted:A,postPath:(0,D.us)(l)})),r.createElement(k.J,{onClick:i,size:"LARGE",testId:"publishSuccessCloseButton"})))};!function(e){e.initial="initial",e.repub="repub",e.approveInPublication="approve-in-publication",e.schedule="schedule"}(L||(L={}));var U=function(e){var t,n,l=e.post,d=(0,S.pE)("postPublishedType"),c=(0,a.IT)(B,{variables:{postId:l.id},skip:d!==L.initial}),m=c.data,p=(m=void 0===m?{}:m).post,h=c.loading,b=(0,s.R)().value,k=(0,r.useState)(!1),y=(0,i.A)(k,2),v=y[0],f=y[1],w=(0,r.useCallback)((function(){return f(!1)}),[f]),x=(0,N.w)(),I=(0,u.J)(null===(t=l.collection)||void 0===t?void 0:t.id).viewerEdge,T=(null==b?void 0:b.id)===(null===(n=l.creator)||void 0===n?void 0:n.id)||l.collection&&(null==I?void 0:I.isEditor);(0,r.useEffect)((function(){var e,t;switch(d){case L.initial:f(!0);break;case L.schedule:x((0,g.MZ)({duration:3e3,message:"Your story is scheduled to ".concat(l.isPublishToEmail?"send":"publish"," on ").concat((0,o.A)(null!==(e=null===(t=l.publishSchedule)||void 0===t?void 0:t.publishAt)&&void 0!==e?e:0,"PPPP 'at' H:mm aaa"))}));break;case L.repub:x((0,g.MZ)({duration:3e3,message:"Your changes have been published."}));break;case L.approveInPublication:x((0,g.MZ)({duration:3e3,message:"The story has been published to your publication."}))}}),[d]);var A=(0,r.useState)(!1),P=(0,i.A)(A,2),D=P[0],F=P[1];return D?h||!p||p.inResponseToPostResult||p.inResponseToCatalogResult?null:b&&T?r.createElement(O,{isVisible:v,hide:w,post:p,viewerId:b.id}):null:(E.R5.on("load",(function(){return F(!0)})),null)}},56921:(e,t,n)=>{n.d(t,{B:()=>s});var i=n(5544),l=n(96540),a=n(52290),o=n(86527),r=n(34317),s=function(e){var t=e.url,n=e.onCopy,s=e.children,u=e.flexGrow,d=e.linkStyle,c=e.postId,m=e.source,p=l.useState(!1),h=(0,i.A)(p,2),b=h[0],k=h[1],y=l.useState(null),v=(0,i.A)(y,2),E=v[0],f=v[1],g=l.useRef(null),S=(0,r.$L)();l.useEffect((function(){return function(){E&&clearTimeout(E)}}),[]);var N=l.useCallback((function(){n&&n();var e=g.current;if(e){if(e.disabled=!1,e.select(),e){var t=document.createRange();t.selectNode(e);var i=window.getSelection();i&&i.addRange(t),e.setSelectionRange(0,e.value.length),document.execCommand("copy"),(i=window.getSelection())&&i.removeAllRanges()}e.disabled=!0,k(!0),E&&clearTimeout(E),f(setTimeout((function(){return k(!1)}),2e3))}}),[]);return l.createElement(a.a,{display:"flex",alignItems:"flex-start",flexGrow:u},l.createElement("form",null,l.createElement("input",{disabled:!0,readOnly:!0,type:"text",ref:g,value:t,style:{position:"fixed",top:"-100vh"}}),l.createElement(o.N,{onClick:function(e){e.preventDefault(),S.event("copyStoryLink.clicked",{postId:c,source:m}),N()},linkStyle:d||"OBVIOUS"},s(b))))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/4269.b5d15d62.chunk.js.map